var l=1,m=0,aa=null,p=0;function q(a){return null==a||"null"==a||""==a||void 0==a||"undefined"==a||[]==a||void 0==jQuery(a).get(0).tagName}function r(a,b){a.append(b)}function t(a,b,c,d,f,e){a.css({left:b,top:c,width:d,height:f});a.css({"z-index":99999,position:"absolute","background-color":"#facd93"});a.css(e,"1px dashed #000")}function u(a,b,c,d,f){a.css({left:b,top:c,width:d,height:f});a.css({"z-index":99999,position:"absolute","background-color":"#000",opacity:.5})}
function ba(a){var b="#F9AEAE #F1C194 #F3E13B #CEF57B #9CF994 #75D8BA #55C5F5 #A7A5E4 #D291FF #FF91D5 #EBD2D6".split(" "),c=b.length;a>=c&&(a=c-1);return b[a]}
function v(a,b,c,d){p+=1;var f="";b&&(f="<div class='ncx_selector' style='background-color:"+d+"; position: absolute; height: 15px; width: 35px;'><a class='ncx-highlight-button ncx-accept-highlight' lang='"+c+"' style='background: url(\""+newcrawler_server_url+"static/xpath/v2/icon-highlight-accept.svg\") no-repeat 50% 50%;background-size: 10px 10px;right: 0px;padding-right: 10px;display: inline-block;cursor: pointer!important;height: 12px;width: 12px;opacity: .4;position: absolute;margin-top: 1px;'></a><a class='ncx-highlight-button ncx-reject-highlight' lang='"+c+
"' style='background: url(\""+newcrawler_server_url+"static/xpath/v2/icon-highlight-reject.svg\") no-repeat 50% 50%;background-size: 10px 10px;right: 15px;padding-right: 10px;display: inline-block;cursor: pointer!important;height: 12px;width: 12px;opacity: .4;position: absolute;margin-top: 1px;'></a></div>");jQuery("#newcrawler").contents().find("#ncx_curlCover").append("<div id='ncx_traceHighlight_top_"+p+"' class='ncx_highlightTool'></div>");jQuery("#newcrawler").contents().find("#ncx_curlCover").append("<div id='ncx_traceHighlight_right_"+
p+"' class='ncx_highlightTool'></div>");jQuery("#newcrawler").contents().find("#ncx_curlCover").append("<div id='ncx_traceHighlight_bottom_"+p+"' class='ncx_highlightTool'>"+f+"</div>");jQuery("#newcrawler").contents().find("#ncx_curlCover").append("<div id='ncx_traceHighlight_left_"+p+"' class='ncx_highlightTool'></div>");b=jQuery("#newcrawler").contents().find("#ncx_traceHighlight_top_"+p+"");d=jQuery("#newcrawler").contents().find("#ncx_traceHighlight_right_"+p+"");var f=jQuery("#newcrawler").contents().find("#ncx_traceHighlight_bottom_"+
p+""),e=jQuery("#newcrawler").contents().find("#ncx_traceHighlight_left_"+p+"");c=jQuery(a).offset();var g=jQuery(a).outerWidth();a=jQuery(a).outerHeight();var h=jQuery("#newcrawler").contents().width();g>h&&(g=h-8);t(b,c.left-2,c.top-2,g+4,2,"border-bottom");t(d,c.left+g,c.top,2,a,"border-left");t(f,c.left-2,c.top+a,g+4,2,"border-top");t(e,c.left-2,c.top,2,a,"border-right")}
function ca(a){jQuery("#newcrawler").contents().find("#ncx_curlCover .ncx_highlightTool").remove();var b=jQuery(a).offset().top,c=jQuery(a).offset().left,d=jQuery(a).outerWidth(),f=jQuery(a).outerHeight(),e=jQuery("#newcrawler").contents().outerHeight(),g=jQuery("#newcrawler").contents().outerWidth();d>g+8&&(d=g);r(jQuery("#newcrawler").contents().find("#ncx_curlCover"),"<div id='ncx_highlightCover_top' class='ncx_highlightTool'></div>");r(jQuery("#newcrawler").contents().find("#ncx_curlCover"),"<div id='ncx_highlightCover_right' class='ncx_highlightTool'></div>");
r(jQuery("#newcrawler").contents().find("#ncx_curlCover"),"<div id='ncx_highlightCover_bottom' class='ncx_highlightTool'></div>");r(jQuery("#newcrawler").contents().find("#ncx_curlCover"),"<div id='ncx_highlightCover_left' class='ncx_highlightTool'></div>");var h=jQuery("#newcrawler").contents().find("#ncx_highlightCover_top"),k=jQuery("#newcrawler").contents().find("#ncx_highlightCover_right"),n=jQuery("#newcrawler").contents().find("#ncx_highlightCover_bottom"),w=jQuery("#newcrawler").contents().find("#ncx_highlightCover_left");
u(h,0,0,g+8,b-3);u(k,c+3+d,b-3,g-c-3-d+8,f+6);u(n,0,b+3+f,g+8,e-b-f+155);u(w,0,b-3,c-3,f+6);l=0;r(jQuery("#newcrawler").contents().find("#ncx_curlCover"),"<div id='ncx_editHighlight_top' class='ncx_highlightTool'></div>");r(jQuery("#newcrawler").contents().find("#ncx_curlCover"),"<div id='ncx_editHighlight_right' class='ncx_highlightTool'></div>");r(jQuery("#newcrawler").contents().find("#ncx_curlCover"),"<div id='ncx_editHighlight_bottom' class='ncx_highlightTool'></div>");r(jQuery("#newcrawler").contents().find("#ncx_curlCover"),
"<div id='ncx_editHighlight_left' class='ncx_highlightTool'></div>");b=jQuery("#newcrawler").contents().find("#ncx_editHighlight_top");c=jQuery("#newcrawler").contents().find("#ncx_editHighlight_right");f=jQuery("#newcrawler").contents().find("#ncx_editHighlight_bottom");e=jQuery("#newcrawler").contents().find("#ncx_editHighlight_left");g=jQuery(a).offset();t(b,g.left-2,g.top-2,d+4,2,"border-bottom");t(c,g.left+d,g.top,2,jQuery(a).outerHeight(),"border-left");t(f,g.left-2,g.top+jQuery(a).outerHeight(),
d+4,2,"border-top");t(e,g.left-2,g.top,2,jQuery(a).outerHeight(),"border-right");jQuery("#newcrawler").contents().find("#ncx_curlCover .ncx_highlightTool").click(function(){x()})}
function x(){jQuery("#newcrawler").contents().find("#ncx_curlCover .ncx_highlightTool").remove();jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool").remove();l=1;jQuery("#newcrawler").contents().find("#ncx_curlCover").css({"pointer-events":"none"});0==y&&jQuery("#ncx_toolbar .ncx-datatypes .active .ncx-count").text("0")}
function z(a,b,c){jQuery("#newcrawler").contents().find("#ncx_curlCover .ncx_highlightTool").remove();var d=null,f=0;if(!y&&1<B.length){for(var d=B[1].a,e=1,g=B.length;e<g;e++)for(var h=0,k=B[e].a.length;h<k;h++)-1!=B[e].a[h].indexOf(":nth-of-type(*)")&&(d=B[e].a);f=d.length}k=0;if(!c)for(e=0,g=C.length;e<g;e++)if(-1!=C[e].indexOf(":nth-of-type(*)")){if(null!=d)if(f>e){if(-1==d[e].indexOf(":nth-of-type(*)")){C[e]=E[e];continue}}else{C[e]=E[e];continue}k++}c=!1;if(0<k)c=!0,jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool").remove(),
b=l=1;else{ca(a);1===b?da(a):ea(a);e=C.join("");jQuery("#newcrawler-selector").find("#ncx_copy_xpath_text").text(e);g=jQuery(a).get(0);jQuery("#newcrawler-selector").find("select[name='ncx_attr']").empty();jQuery("#newcrawler-selector").find("select[name='ncx_attr']").append('<option value=""></option>');f=!1;e=0;k=g.attributes;for(d=k.length;e<d;e++)f=k[e].nodeName.toLowerCase(),jQuery("#newcrawler-selector").find("select[name='ncx_attr']").append('<option value="'+f+'">'+f+"</option>"),f=!0;f?(jQuery("#newcrawler-selector").find("input[name='ncx_selectType'][value='@ATTR']").attr("disabled",
!1),jQuery("#newcrawler-selector").find("select[name='ncx_attr']").attr("disabled",!1)):(jQuery("#newcrawler-selector").find("input[name='ncx_selectType'][value='@ATTR']").attr("disabled",!0),jQuery("#newcrawler-selector").find("select[name='ncx_attr']").attr("disabled",!0));("img"==g.tagName.toLowerCase()||y)&&f?(jQuery("#newcrawler-selector").find("select[name='ncx_attr'] option:nth-child(2)").attr("selected",!0),jQuery("#newcrawler-selector").find("input[name='ncx_selectType'][value='@ATTR']").attr("checked",
!0),jQuery("#newcrawler-selector").find("select[name='ncx_attr']").change()):(jQuery("#newcrawler-selector").find("input[name='ncx_selectType'][value='innerHTML']").attr("checked",!0),e=g.innerHTML,jQuery("#newcrawler-selector").find("#ncx_content_preview").text(F(e)))}k=0;d=[];e=f=0;for(g=C.length;e<g;e++)if(d[e]=C[e],-1!=d[e].indexOf(":nth-of-type(*)")){for(h=e+1;h<g;h++)d[h]=E[h];var h=d.join(""),h=h.replace(":nth-of-type(*)",""),h=jQuery("#newcrawler").contents().find(h),n=h.length,k=k+n,w=ba(f);
f++;for(var D=0;D<n;D++){var A=h[D];G(a,A)?v(A,!1,e,null):v(A,c,e,w)}d[e]=E[e]}0==k&&k++;y||jQuery("#ncx_toolbar .ncx-datatypes .active .ncx-count").text(k);jQuery("#newcrawler").contents().find(".ncx-accept-highlight").unbind("click").click(function(){for(var c=jQuery(this).attr("lang"),d=0,e=C.length;d<e;d++)-1!=C[d].indexOf(":nth-of-type(*)")&&c!=d&&(C[d]=E[d]);z(a,b,!0)});jQuery("#newcrawler").contents().find(".ncx-reject-highlight").unbind("click").click(function(){for(var c=jQuery(this).attr("lang"),
d=0,e=C.length;d<e;d++)-1!=C[d].indexOf(":nth-of-type(*)")&&c==d&&(C[d]=E[d]);z(a,b,!1)})}function F(a){return a=a.replaceAll("<ncx-text>","").replaceAll("</ncx-text>","")}var H=0,I=[],J={},C=[],E=[];function fa(a){I.push(a);a=jQuery(a).parent();var b=a.get(0);return q(b)?I:fa(a)}
function da(a){J=a;jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool").remove();var b=K("et_wrap");jQuery("#newcrawler-selector").append(b);L("ncx_et_state_10");ga(a);ha();I=[];fa(a);jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool").removeData("child");jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool").data("child",I)}
function ea(a){J=a;ga(a);a=jQuery(J).get(0).innerHTML;jQuery("#newcrawler-selector").find("#ncx_content_preview").text(F(a));jQuery("#newcrawler-selector").find("#ncx_copy_xpath_tips").text("");jQuery("#newcrawler-selector").find("#ncx_copy_xpath_text").css({"background-color":"white"});jQuery("#newcrawler-selector").find("#ncx_copy_csspath_tips").text("");jQuery("#newcrawler-selector").find("#ncx_copy_csspath_text").css({"background-color":"white"})}
function ga(a){var b=jQuery(a).offset().top,c=jQuery("#newcrawler").outerHeight()/2;jQuery("#newcrawler").contents().find("body").scrollTop(b-c);var c=jQuery("#newcrawler").offset().top,d=jQuery("#newcrawler").contents().scrollTop(),b=jQuery(a).offset().top,b=b-d+c,c=jQuery(a).offset().left,d=jQuery(a).outerWidth(),f=jQuery(a).outerHeight(),e=jQuery("#newcrawler").outerHeight();a=jQuery("#newcrawler").outerWidth();351>e-b-f?(e=c+d-400,e=c-3,b=b-351-2,0>=e&&(e=0),e+400>a&&(e=c+d-400+3,e>a&&(e=a-400-
10)),0>b&&(b=0),jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool").css({left:e+"px",top:b+"px"})):(e=c-3,b=b+f+3,0>=e&&(e=0),e+400>a&&(e=c+d-400+3,e>a&&(e=a-400-10)),jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool").css({left:e+"px",top:b+"px"}))}
function K(a){var b="";switch(a){case "et_wrap":b="<div class='ncx_edit_tpl_tool' style='position : absolute; z-index : 999990;' id='ncx_edit_tpl_tool'><ul id='ncx_et_bar' class='ncx_et_bar'><li class='ncx_col1'><div id='ncx_larger' class='ncx_larger'></div><div id='ncx_smaller' class='ncx_smaller'></div></li><li class='ncx_col4' id='ncx_et_state_4'><span class='ncx_bar_button_tilte'>Preview</span></li>";b+="</ul><div id='ncx_et_content' class='ncx_et_content'></div></div>";break;case "et_conetent_inner_20":b=
"<div class='ncx_et_content_inner' id='ncx_copy_xpath_container' style='position:relative'><pre id='ncx_copy_xpath_text' class='ncx_xpath'>xpath express test!!!</pre>";b+="<div class='ncx_button'><button id='ncx_copy_xpath_button' class='ncx_xpath_copy'>Copy Selector</button><button class='ncx_et_cancel'></button></div>";b+="<div id='ncx_copy_xpath_tips' class='ncx_tips'></div>";b+="</div>";break;case "et_conetent_inner_30":b="<div class='ncx_et_content_inner' id='ncx_copy_csspath_container' style='position:relative'><pre id='ncx_copy_csspath_text' class='ncx_csspath'>csspath express test!!!</pre>";
b+="<div class='ncx_button'><button id='ncx_copy_csspath_button' class='ncx_csspath_copy'>Copy Selector</button><button class='ncx_et_cancel'></button></div>";b+="<div id='ncx_copy_csspath_tips' class='ncx_tips'></div>";b+="</div>";break;case "et_conetent_inner_40":b="<div class='ncx_et_content_inner'><div><pre id='ncx_copy_xpath_text' class='ncx_xpath ncx_expression'>xpath express test!!!</pre></div>",b+="<div style='height: 22px;'>",b+="<div style='float:left;margin-left:0px;width:80px;'><input name='ncx_selectType' type='radio' value='outerHTML' style='vertical-align: middle;'><span>outerHTML</span></div>",
b+="<div style='float:left;margin-left:0px;width:80px;'><input name='ncx_selectType' type='radio' value='innerHTML' style='vertical-align: middle;' checked='checked' ><span>innerHTML</span></div>",b+="<div style='float:left;margin-left:0px;width:80px;'><input name='ncx_selectType' type='radio' value='innerTEXT' style='vertical-align: middle;'><span>innerTEXT</span></div>",b+="<div style='float:left;margin-left:0px;width:80px;'><input name='ncx_selectType' type='radio' value='@ATTR' style='vertical-align: middle;display:none;'><span><select name='ncx_attr' style='width: 130px;'></select></span></div>",
b+="</div>",b+="<div><pre id='ncx_content_preview' class='ncx_content'></pre></div>",b+="<div class='ncx_button'>",b+="<button id='ncx_copy_xpath_button' class='ncx_xpath_copy'>Copy Selector</button>",b+="<button class='ncx_et_cancel'></button>",b+="<button class='ncx_et_create'></button>",b+="</div>",b+="<div class='ncx_tips'></div></div>"}return b}
function M(){var a=new ZeroClipboard(document.getElementById("ncx_copy_csspath_button"));a.on("ready",function(){a.on("copy",function(a){a.clipboardData.setData("text/plain",jQuery("#newcrawler-selector").find("#ncx_copy_csspath_text").text())});a.on("aftercopy",function(){jQuery("#newcrawler-selector").find(".ncx_et_content_inner .ncx_tips").text("Copied CssPath.");jQuery("#newcrawler-selector").find(".ncx_et_content_inner .ncx_expression").css({"background-color":"white"});jQuery("#newcrawler-selector").find("#ncx_copy_csspath_text").css({"background-color":"rgb(236, 248, 233)"})})});
var b=new ZeroClipboard(document.getElementById("ncx_copy_xpath_button"));b.on("ready",function(){b.on("copy",function(a){a.clipboardData.setData("text/plain",jQuery("#newcrawler-selector").find("#ncx_copy_xpath_text").text())});b.on("aftercopy",function(){jQuery("#newcrawler-selector").find(".ncx_et_content_inner .ncx_tips").text("Copied XPath.");jQuery("#newcrawler-selector").find(".ncx_et_content_inner .ncx_expression").css({"background-color":"white"});jQuery("#newcrawler-selector").find("#ncx_copy_xpath_text").css({"background-color":"rgb(236, 248, 233)"})})})}
function L(a){jQuery("#newcrawler-selector").find("#ncx_et_bar").removeClass("ncx_shape1");jQuery("#newcrawler-selector").find(".ncx_bar_button_tilte").removeClass("ncx_on");jQuery("#newcrawler-selector").find("#ncx_et_content").removeClass("ncx_shape1");jQuery("#newcrawler-selector").find("#ncx_et_content").empty();switch(a){case "ncx_et_state_10":jQuery("#newcrawler-selector").find("#ncx_et_bar").addClass("ncx_shape1");break;case "ncx_et_state_20":jQuery("#newcrawler-selector").find("#ncx_et_bar").addClass("ncx_shape1");
jQuery("#newcrawler-selector").find(".ncx_col2 > .ncx_bar_button_tilte").addClass("ncx_on");jQuery("#newcrawler-selector").find("#ncx_et_content").addClass("ncx_shape1");a=K("et_conetent_inner_20");r(jQuery("#newcrawler-selector").find("#ncx_et_content"),a);a=N(jQuery(J).get(0));jQuery("#newcrawler-selector").find("#ncx_copy_xpath_text").text(a);M();break;case "ncx_et_state_30":jQuery("#newcrawler-selector").find("#ncx_et_bar").addClass("ncx_shape1");jQuery("#newcrawler-selector").find(".ncx_col3 > .ncx_bar_button_tilte").addClass("ncx_on");
jQuery("#newcrawler-selector").find("#ncx_et_content").addClass("ncx_shape1");a=K("et_conetent_inner_30");r(jQuery("#newcrawler-selector").find("#ncx_et_content"),a);a=N(jQuery(J).get(0));jQuery("#newcrawler-selector").find("#ncx_copy_csspath_text").text(a);M();break;case "ncx_et_state_40":jQuery("#newcrawler-selector").find("#ncx_et_bar").addClass("ncx_shape1"),jQuery("#newcrawler-selector").find(".ncx_col4 > .ncx_bar_button_tilte").addClass("ncx_on"),jQuery("#newcrawler-selector").find("#ncx_et_content").addClass("ncx_shape1"),
a=K("et_conetent_inner_40"),r(jQuery("#newcrawler-selector").find("#ncx_et_content"),a),jQuery(J).get(0),jQuery("#newcrawler-selector").find(".ncx_et_content_inner select[name='ncx_attr']").unbind("change").change(function(){jQuery("#newcrawler-selector").find(".ncx_et_content_inner input[name=ncx_selectType][value='@ATTR']").attr("checked",!0);if(""==this.value)jQuery("#newcrawler-selector").find(".ncx_et_content_inner input[name=ncx_selectType][value='innerHTML']").attr("checked",!0),jQuery("#newcrawler-selector").find(".ncx_et_content_inner input[name=ncx_selectType][value='innerHTML']").click();
else{var a=jQuery("#newcrawler-selector").find(".ncx_et_content_inner select[name='ncx_attr']").val();jQuery("#newcrawler-selector").find("#ncx_content_preview").text("");var c=E.join(""),c=c.replace(":nth-of-type(*)",""),c=jQuery("#newcrawler").contents().find(c);0<c.length&&jQuery("#newcrawler-selector").find("#ncx_content_preview").text(c.attr(a))}}),jQuery("#newcrawler-selector").find(".ncx_et_content_inner input[name=ncx_selectType]").unbind("click").click(function(){jQuery("#newcrawler-selector").find(".ncx_et_content_inner select[name='ncx_attr']").val("");
switch(jQuery(this).val()){case "outerHTML":var a=jQuery(J).get(0),a=a.outerHTML;jQuery("#newcrawler-selector").find("#ncx_content_preview").text(F(a));break;case "innerHTML":a=jQuery(J).get(0);a=a.innerHTML;jQuery("#newcrawler-selector").find("#ncx_content_preview").text(F(a));break;case "innerTEXT":jQuery("#newcrawler-selector").find("#ncx_content_preview").text(jQuery(J).text())}}),M()}jQuery("#newcrawler-selector").find(".ncx_et_cancel").click(function(){x()});jQuery("#newcrawler-selector").find(".ncx_et_create").click(function(){var a=
C.join(""),c=O,d=jQuery("#newcrawler-selector").find("input[name=ncx_selectType]:checked").val(),f=jQuery("#newcrawler-selector").find("select[name='ncx_attr']").val(),e="property";if(y)c=0,e="property"+c;else for(var g=c;500>g;g++){for(var e="property"+g,h=!1,k=1,n=B.length;k<n;k++)if(e==B[k].name){h=!0;break}if(!h)break}P(null,c,e,a,C,d,y,f);x()})}function ia(a){var b=[];a=a.split(" > ");for(var c=0,d=a.length;c<d;c++)""!=a[c]&&(b.push(" > "),b.push(a[c]));" > "==b[0]&&(b=b.slice(1));return b}
function P(a,b,c,d,f,e,g,h){g?B[0]={id:a,index:0,name:c,b:d,a:f,f:e,c:h}:(g=d.replace(":nth-of-type(*)",""),g=jQuery("#newcrawler").contents().find(g).length,jQuery("#ncx_toolbar .ncx-datatypes .active .ncx-count").text(g),g=jQuery("#ncx_toolbar .ncx-datatypes .active"),g.addClass("ncx-blue finished"),g.attr("title",c),g.removeClass("ncx-yellow"),g.removeClass("active"),B.push({id:a,index:b,name:c,b:d,a:f,f:e,c:h}),O+=1,jQuery('<a lang="'+O+'" class="ncx-label ncx-data-dot ncx-yellow active"><span class="ncx-count">0</span><span class="ncx-delete-datatype" style="display: none;"></span></a>').insertBefore(jQuery("#ncx_toolbar .ncx-datatypes .ncx-pagination")));
jQuery("#ncx_toolbar .save").attr("disabled",!1);ja()}function G(a,b){return void 0==a||void 0==b?!1:0==a.compareDocumentPosition(b)?!0:!1}
function N(a){C=[];for(E=[];a&&void 0!==a.tagName;a=a.parentNode){var b=a.tagName;if(!b)break;b=b.toLowerCase();if("ncx_cover-container"!=a.id){var c=jQuery(a).parent().children(b).not("#ncx_cover-container"),d=c.length,f="",e="";if(1<d)for(var g=0;g<d;g++){var h=c[g];if(G(a,h))""==f&&(f=":nth-of-type("+(g+1)+")"),e=":nth-of-type("+(g+1)+")";else if(":nth-of-type(*)"!=f)if(0<C.length){var k=E.join(""),h=jQuery(h).find(k).length;0<h&&0<h&&(f=":nth-of-type(*)")}else f=":nth-of-type(*)"}""==f&&(e=f=
"");if("html"==b||"body"==b)e=f="";f=b+f;e=b+e;b=ka(e);c=!1;d="#";g="";a.className&&!/\s/.test(a.className)?(c=!0,d=".",g=a.className):a.id&&!/\s/.test(a.id)&&(c=!0,g=a.id,isNaN(g)||(g="\\3"+a.id));if(c){if(y)for(c=!1,h=0,k=C.length;h<k;h++)if("a"==C[h]||0==C[h].indexOf("a[")){c=!0;break}if(c&&(c=d+g,ka(c)==b&&la(c,0)))if(1<B.length){if(c==B[1].a[0]){C.unshift(c);E.unshift(c);break}}else{C.unshift(c);E.unshift(c);break}}C.unshift(f);C.unshift(" > ");E.unshift(e);E.unshift(" > ")}}" > "==C[0]&&(C=
C.slice(1),E=E.slice(1));return C.join("")}function la(a,b){for(var c=b,d=!1,f=C.slice(0),e=0,g=f.length;e<g;e++)-1!=f[e].indexOf(":nth-of-type(*)")&&(e>b||0==b?c==b?(f[e]=f[e].replace(":nth-of-type(*)",""),b=e):(d=!0,f[e]=E[e]):f[e]=E[e]);f.unshift(a);a=f.join("");var h=!0,k=null;jQuery("#newcrawler").contents().find(a).each(function(){if(null==k)k=ma(this,f);else{var a=ma(this,f);if(!G(a[0],k[0]))return h=!1}});return d?h&&la(a,b):h}
function ma(a,b){for(var c=b.length/2-1,d=jQuery(a).parent(),f=0;f<c;f++)d=jQuery(d).parent();return d}function ka(a){for(var b=C.slice(0),c=0,d=b.length;c<d;c++)-1!=b[c].indexOf(":nth-of-type(*)")&&(b[c]=E[c]);b.unshift(a);a=b.join("");return jQuery("#newcrawler").contents().find(a).length}
function ha(){jQuery("#newcrawler-selector").find("#ncx_larger").mouseover(function(){jQuery(this).addClass("ncx_on")});jQuery("#newcrawler-selector").find("#ncx_smaller").mouseover(function(){jQuery(this).addClass("ncx_on")});jQuery("#newcrawler-selector").find("#ncx_larger").mouseout(function(){jQuery(this).removeClass("ncx_on")});jQuery("#newcrawler-selector").find("#ncx_smaller").mouseout(function(){jQuery(this).removeClass("ncx_on")});jQuery("#newcrawler-selector").find(".ncx_bar_button_tilte").mouseover(function(){jQuery(this).addClass("ncx_onhover")});
jQuery("#newcrawler-selector").find(".ncx_bar_button_tilte").mouseout(function(){jQuery(this).removeClass("ncx_onhover")});jQuery("#newcrawler-selector").find("#ncx_larger").click(function(){var a=jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool").data("child");H<a.length&&H++;a=a[H];q(a)||(N(jQuery(a).get(0)),z(jQuery(a).get(0),2,!1))});jQuery("#newcrawler-selector").find("#ncx_smaller").click(function(){var a=jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool").data("child");0<H&&H--;
a=a[H];q(a)||(N(jQuery(a).get(0)),z(jQuery(a).get(0),2,!1))});jQuery("#newcrawler-selector").find("#ncx_et_state_2").click(function(){L("ncx_et_state_20")});jQuery("#newcrawler-selector").find("#ncx_et_state_3").click(function(){L("ncx_et_state_30")});jQuery("#newcrawler-selector").find("#ncx_et_state_4").click(function(){L("ncx_et_state_40")});jQuery("#newcrawler-selector").find("#ncx_et_state_4").trigger("click");jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool").g()}
String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(a,"gm"),b)};var O=1,y=!1,B=[],Q=null,R=null,S=null,T=0,na=null,U=null,V=null;
function W(a,b,c){var d=document.getElementById("ncx_message-box");d?(d.innerHTML="",d.style.display="none"):(d=document.createElement("div"),d.innerHTML='<div id="ncx_message-box" style="background: #FFD76E; border: 1px solid #E1BA53; border-radius: 2px;padding: 5px 15px; font-size: 12px; font-color: #333; font-weight: bold; position: fixed!important; top: 50px; left: 50%; z-index: 2147483500; display: none;"></div>',document.body.appendChild(d.firstChild),d=document.getElementById("ncx_message-box"));
"show"==a?(d.innerHTML=b,d.style.display="block",d.style.marginLeft=-(d.clientWidth/2)+"px"):"fade"==a?(d.innerHTML=b,d.style.display="block",d.style.marginLeft=-(d.clientWidth/2)+"px",setTimeout(function(){W("hide")},c)):"hide"==a&&(d.innerHTML="",d.style.display="none")}
function oa(){jQuery("#newcrawler").contents().find("body").append('<div id="ncx_cover-container"><div id="ncx_curlCover" class="ncx_curlCover"  style="z-index : 1999999999; filter:Alpha(Opacity=100); -moz-opacity: 1; opacity: 1;  pointer-events:none; text-align: left; background : transparent;top:0;left:0;position:absolute;overflow:hidden;"></div></div>');jQuery("#newcrawler").contents().find("body").css({cursor:"pointer"});document.title="New Crawler\u2122 "+jQuery("#newcrawler").contents().find("title").text();
Q=X("webCrawlerId");R=X("siteId");S=X("rulesVerId");var a=jQuery("#newcrawler").contents().height(),b=jQuery("#newcrawler").contents().width();600>b&&(b=980);jQuery("#newcrawler").contents().find("#ncx_curlCover").css({width:b,height:a+8})}
function pa(){jQuery("#newcrawler").contents().find("*").unbind();jQuery("#newcrawler").contents().find("a").unbind("click").click(function(){return!1});jQuery("#newcrawler").contents().find("body").contents().find("*").each(function(){jQuery(this).off()});jQuery("#newcrawler").contents().find("body").contents().find("*").each(function(){this.onclick=function(){return!1};this.onmouseleave=function(){return!1};this.onmousedown=function(){return!1};this.onmouseover=function(){return!1}});jQuery("#newcrawler").contents().find("body").contents().find("*").not("iframe").contents().filter(function(){var a=
3==this.nodeType,b=!1;1<jQuery(this).parent().contents().length&&(b=!0);return a&&b}).wrap("<ncx-text></ncx-text>");jQuery("#newcrawler").contents().find("body").contents().find("*").bind("mouseover",function(a){a=a||window.event;a=a.target||a.srcElement;if("html"!=jQuery(a).get(0).tagName.toLowerCase()&&"ncx_highlightTool"!=jQuery(a).attr("class")&&1==l){m=1;aa=a;jQuery("#newcrawler").contents().find("#ncx_curlCover .ncx_highlightTool").remove();jQuery("#newcrawler").contents().find("#ncx_curlCover").append("<div id='ncx_traceHighlight_top' class='ncx_highlightTool'></div>");
jQuery("#newcrawler").contents().find("#ncx_curlCover").append("<div id='ncx_traceHighlight_right' class='ncx_highlightTool'></div>");jQuery("#newcrawler").contents().find("#ncx_curlCover").append("<div id='ncx_traceHighlight_bottom' class='ncx_highlightTool'></div>");jQuery("#newcrawler").contents().find("#ncx_curlCover").append("<div id='ncx_traceHighlight_left' class='ncx_highlightTool'></div>");var b=jQuery("#newcrawler").contents().find("#ncx_traceHighlight_top"),c=jQuery("#newcrawler").contents().find("#ncx_traceHighlight_right"),
d=jQuery("#newcrawler").contents().find("#ncx_traceHighlight_bottom"),f=jQuery("#newcrawler").contents().find("#ncx_traceHighlight_left"),e=jQuery(a).offset(),g=jQuery(a).outerWidth(),h=jQuery("#newcrawler").contents().width();g>h&&(g=h-8);t(b,e.left-2,e.top-2,g+4,2,"border-bottom");t(c,e.left+g,e.top,2,jQuery(a).outerHeight(),"border-left");t(d,e.left-2,e.top+jQuery(a).outerHeight(),g+4,2,"border-top");t(f,e.left-2,e.top,2,jQuery(a).outerHeight(),"border-right")}return!1});jQuery("#newcrawler").contents().find("body").contents().find("*").each(function(){jQuery(this).click(function(){H=
0;if(1==m){var a=aa;jQuery("#ncx_toolbar .ncx-datatypes .active").hasClass("ncx-cron")&&(jQuery("#ncx_toolbar .ncx-datatypes .ncx-cron").removeClass("active"),jQuery("#ncx_toolbar .ncx-cron-config").hide(),jQuery("#ncx_toolbar .ncx-datatypes .ncx-data-dot.ncx-yellow").addClass("active"));jQuery("#ncx_toolbar .ncx-datatypes .active").hasClass("ncx-setting")&&(jQuery("#ncx_toolbar .ncx-datatypes .ncx-setting").removeClass("active"),jQuery("#ncx_toolbar .ncx-setting-config").hide(),jQuery("#ncx_toolbar .ncx-datatypes .ncx-data-dot.ncx-yellow").addClass("active"));
jQuery("#ncx_toolbar .ncx-datatypes .active").hasClass("ncx-pagination")?y=!0:(jQuery("#ncx_toolbar .ncx-setting-config").hide(),jQuery("#ncx_toolbar .ncx-cron-config").hide(),jQuery("#ncx_toolbar .ncx-datatypes .ncx-cron").removeClass("active"),jQuery("#ncx_toolbar .ncx-datatypes .ncx-setting").removeClass("active"),jQuery("#ncx_toolbar .ncx-datatypes .ncx-data-dot.ncx-yellow").addClass("active"),y=!1);N(a);jQuery("#newcrawler").contents().find("#ncx_curlCover").css({"pointer-events":"auto"});z(a,
1,!1)}return!1})})}
function qa(){jQuery("#ncx_toolbar #url").val(decodeURIComponent(newcrawler_fetch_url));jQuery("#ncx_toolbar .ncx-save").click(function(){ra(function(){jQuery("#ncx_toolbar .ncx-cron-config").hide();jQuery("#ncx_toolbar .ncx-setting-config").hide()})});jQuery("#ncx_toolbar .ncx-view").click(function(){null==Q||void 0==Q||isNaN(Q)||(sa.v.webCrawlerId=Q,ta());jQuery("#ncx_toolview .ncx-content-top-export").hide(100);jQuery(".view-pop").toggle(600);jQuery("#ncx_toolview").toggle(600,function(){jQuery("#ncx_toolview").is(":visible")?
(document.body.parentNode.style.overflow="hidden",jQuery("#ncx-crawlDataLog").show(),V.init(function(){jQuery(window).trigger("resize")}),ua(),jQuery(window).resize(function(){jQuery("#ncx_toolview").height(jQuery(window).height()-46);jQuery(".logsViewConsoleWindow").height(jQuery(".ncx-content-bottom").height()-jQuery("#ncx-crawlDataLog").height());jQuery("#ncx_toolview").width(jQuery(window).width())}),jQuery(window).trigger("resize")):(document.body.parentNode.style.overflow="auto",jQuery("#ncx-crawlDataLog").hide(),
V.destory())})});jQuery("#ncx_toolbar .ncx-js .isJavaScript").click(function(){ra(function(){top.window.location.href=U})});jQuery("#ncx_toolview .ncx-refresh").click(function(){ua()});jQuery("#ncx_toolview .ncx-prevPage").click(function(){0<T&&Y(T-1)});jQuery("#ncx_toolview .ncx-nextPage").click(function(){Y(T+1)});jQuery("#ncx_toolview .ncx-export").click(function(){jQuery("#ncx_toolview .ncx-content-top-export").toggle(100)});jQuery("#ncx_toolview .ncx-export-plotly").click(function(){var a=va(),
b=jQuery('<div id="hiddenform" style="display:none;"><form action="https://plot.ly/datagrid" method="post" target="_blank" accept-charset="utf-8"><input type="text" name="data" /></form></div>').appendTo("body"),a=JSON.stringify(a);b.find("input").val(a);b.find("form").submit();b.remove()});jQuery("#ncx_toolview .ncx-export-coding").click(function(){if(null!=R){var a=newcrawler_app_url+"api/data/export?siteId="+R+"&pageNum="+T+"&type=json";jQuery("#ncx_toolview .ncx-export-coding").attr("href",a)}});
jQuery("#ncx_toolview .ncx-run").click(function(){var a=jQuery("#ncx_toolbar #ncx-cron-id").val();Z.scheduleService.execute(function(a,c){c?W("fade","System errors.",3E3):a&&(W("fade","Task running...",3E3),setTimeout(function(){V.init(function(){jQuery(window).trigger("resize")})},2E3))},Q,R,a)});jQuery("#ncx_toolview .ncx-download").click(function(){var a=newcrawler_app_url+"member/api/data/download?startIndex="+30*T+"&siteId="+R;jQuery("#ncx_toolview .downloadCsv").attr("href",a);jQuery("#ncx_toolview .downloadCsv span").click()});
jQuery("#ncx_toolbar #ncx-charset-select").change(function(){var a=jQuery("#ncx_toolbar #ncx-charset-select").val();null==a||""==a?(jQuery("#ncx_toolbar #ncx-charset").show(),jQuery("#ncx_toolbar #ncx-charset").val("")):(jQuery("#ncx_toolbar #ncx-charset").hide(),jQuery("#ncx_toolbar #ncx-charset").val(a))});ja()}
function ja(){jQuery("#ncx_toolbar .ncx-datatypes .ncx-data-dot .ncx-delete-datatype").unbind("click").click(function(){var a=jQuery(this).parent().attr("lang"),b=[];b.push(B[0]);for(var c=1,d=B.length;c<d;c++)a!=B[c].index&&b.push(B[c]);B=b;jQuery(this).parent().remove();void 0==jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.finished")&&jQuery("#ncx_toolbar .save").attr("disabled",!0)});jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.finished").unbind("mouseout").mouseout(function(){jQuery(this).find(".ncx-delete-datatype").hide();
jQuery(this).find(".ncx-delete-datatype").removeClass("visible")});jQuery("#ncx_toolbar .ncx-datatypes .ncx-data-dot").unbind("click").click(function(){if(jQuery(this).hasClass("ncx-pagination")||jQuery(this).hasClass("ncx-cron")||jQuery(this).hasClass("ncx-setting")){var a=jQuery(this).hasClass("active");a||(jQuery("#ncx_toolbar .ncx-data-dot").each(function(){jQuery(this).removeClass("active")}),jQuery(this).addClass("active"));jQuery(this).hasClass("ncx-cron")?jQuery("#ncx_toolbar .ncx-cron-config").is(":visible")?
(jQuery("#ncx_toolbar .ncx-cron-config").hide(),jQuery(this).removeClass("active")):jQuery("#ncx_toolbar .ncx-cron-config").show():jQuery("#ncx_toolbar .ncx-cron-config").hide();jQuery(this).hasClass("ncx-setting")?jQuery("#ncx_toolbar .ncx-setting-config").is(":visible")?(jQuery("#ncx_toolbar .ncx-setting-config").hide(),jQuery(this).removeClass("active")):jQuery("#ncx_toolbar .ncx-setting-config").show():jQuery("#ncx_toolbar .ncx-setting-config").hide()}else jQuery(this).hasClass("ncx-label")&&
!jQuery(this).hasClass("finished")&&(a=jQuery(this).hasClass("active"),a||(jQuery(this).addClass("active"),jQuery("#ncx_toolbar .ncx-datatypes .ncx-pagination").removeClass("active"),jQuery("#ncx_toolbar .ncx-datatypes .ncx-cron").removeClass("active"),jQuery("#ncx_toolbar .ncx-datatypes .ncx-setting").removeClass("active"),jQuery("#ncx_toolbar .ncx-cron-config").hide(),jQuery("#ncx_toolbar .ncx-setting-config").hide()));a=jQuery(this).attr("lang");if(null!=a&&""!=a&&void 0!=a)for(var b in B)if(a==
B[b].index){var c=B[b].b;B[b].a.slice(0);for(var c=c.replace(":nth-of-type(*)",""),c=jQuery("#newcrawler").contents().find(c),d=c.length,f=0;f<d;f++){var e=c[f];if(0==f){var g=jQuery(e).offset().top,e=jQuery(e).outerHeight(),h=0;65>jQuery("#newcrawler").contents().outerHeight()-g-e?(h=g+1,0>h&&(h=0)):h=g+e+3;jQuery("#newcrawler").contents().scrollTop(h-300)}}}});jQuery("#ncx_toolbar .ncx-datatypes .ncx-data-dot").unbind("mouseover").mouseover(function(){jQuery(this).hasClass("ncx-label")&&jQuery(this).hasClass("finished")&&
(jQuery(this).find(".ncx-delete-datatype").show(),jQuery(this).find(".ncx-delete-datatype").addClass("visible"));x();var a=jQuery(this).attr("lang");if(null!=a&&""!=a&&void 0!=a)for(var b in B)if(a==B[b].index){var c=B[b].b;B[b].a.slice(0);for(var c=c.replace(":nth-of-type(*)",""),c=jQuery("#newcrawler").contents().find(c),d=c.length,f=0;f<d;f++)v(c[f],!1,0,null)}})}
function X(a){for(var b=window.location.search.substring(1).split("&"),c=0;c<b.length;c++){var d=b[c].split("=");if(d[0]==a)return d[1]}return""}
function wa(a){if(null!=Q&&void 0!=Q&&!isNaN(Q)){jQuery("#ncx_toolbar .save").attr("disabled",!0);B[0]={};var b=null;if(null!=R&&null!=S&&(urlString=newcrawler_server_url+"member/rules/query?webCrawlerId="+Q+"&siteId="+R+"&rulesVerId="+S,jQuery.ajax({type:"GET",dataType:"json",url:urlString,async:!1,success:function(a){b=a},error:function(a,b,c){console.log(c);jQuery("#ncx_toolbar .ncx-toolbar-section.msg").html("<div><span style='color:red;'>System errors.</span></div>");setTimeout(function(){jQuery("#ncx_toolbar .ncx-toolbar-section.msg").html("")},
3E3)}}),null!=b&&""!=b)){var c=b.cronId,d=b.cronDate,f=b.cronTime,e=b.pluginId,g=b.isJs,h=b.charset,k=b.headers;jQuery("#ncx_toolbar .ncx-js input[type=checkbox][name='ncx-isJs']").attr("checked",g);jQuery("#ncx_toolbar .ncx-js #ncx-pluginId").val(e);jQuery("#ncx_toolbar #ncx-cron-id").val(c);jQuery("#ncx_toolbar #ncx-cron-date").val(d);jQuery("#ncx_toolbar #ncx-cron-time").val(f);jQuery("#ncx_toolbar #ncx-charset").val(h);jQuery("#ncx_toolbar #ncx-headers").val(k);jQuery("#ncx_toolbar #ncx-charset-select").val(h);
null!=h&&""!=h&&jQuery("#ncx_toolbar #ncx-charset").hide();var b=b.rules,n;for(n in b)isNaN(n)||"csspath"!=b[n].searchMode||(c=b[n].id,d=b[n].name,f=b[n].selectExpress,e=b[n].selectType,g=b[n].selectAttr,h=b[n].labelType,k=ia(f),"2"==h?P(c,0,d,f,k,e,!0,g):P(c,O,d,f,k,e,!1,g))}qa();a&&a()}}
function va(){var a={},b=na,c;for(c in b)if(!isNaN(c)){var d=eval(b[c].data),f;for(f in d){var e=d[f].name,g=d[f].value;if(null==a[e]||void 0==a[e])a[e]={data:[]};a[e].data.push(g)}d=b[c].createDate;if(null==a.createDate||void 0==a.createDate)a.createDate={data:[]};a.createDate.data.push(d)}return{cols:a}}
function ra(a){var b=newcrawler_server_url,c=[],d;for(d in B){var f=B[d].id,e=B[d].index,g=B[d].name,h=B[d].b,k=B[d].f,n=B[d].c;if(null!=g&&""!=g&&null!=h&&""!=h){var w="1";0==e&&(w="2");c.push({id:f,name:g,selectExpress:h,selectAttr:n,selectType:k,labelType:w})}}jQuery("#ncx_toolbar .ncx-toolbar-section.msg").html("<div class='loading'></div>");d="";null!=c&&0<c.length&&(d=JSON.stringify(c));c=jQuery("#ncx_toolbar #ncx-cron-id").val();f=jQuery("#ncx_toolbar #ncx-cron-date").val();e=jQuery("#ncx_toolbar #ncx-cron-time").val();
g="";h=!1;jQuery("#ncx_toolbar .ncx-js input[type=checkbox][name='ncx-isJs']").is(":checked")&&(h=!0,g=jQuery("#ncx_toolbar .ncx-js #ncx-pluginId").val());k=jQuery("#ncx_toolbar #ncx-charset").val();n=jQuery("#ncx_toolbar #ncx-headers").val();urlString=b+"member/rules/save";b={webCrawlerId:Q,siteId:R,rulesVerId:S,rulesJson:d,url:jQuery("#ncx_toolbar #url").val(),cronId:c,cronDate:f,cronTime:e,isJs:h,pluginId:g,charset:k,headers:n};jQuery.ajax({type:"POST",data:b,url:urlString,async:!0,dataType:"json",
error:function(a,b,c){console.log(c);jQuery("#ncx_toolbar .ncx-toolbar-section.msg").html("<div><span style='color:red;'>System errors.</span></div>");setTimeout(function(){jQuery("#ncx_toolbar .ncx-toolbar-section.msg").html("")},3E3)},success:function(b){var c=b.msg;if("1"==b.code){var d=b.cronId;null!=d&&void 0!=d&&"undefined"!=d&&jQuery("#ncx_toolbar #ncx-cron-id").val(d);var d=b.isNew,e=b.pluginId;null!=e&&void 0!=e&&"undefined"!=e&&jQuery("#ncx_toolbar .ncx-js #ncx-pluginId").val(e);null!=b.siteId&&
""!=b.siteId&&(R=b.siteId,"true"==d&&(U=U+"&siteId="+R));null!=b.rulesVerId&&""!=b.rulesVerId&&(S=b.rulesVerId,"true"==d&&(U=U+"&rulesVerId="+S));if(newcrawler_refresh&&null!=newcrawler_refresh&&void 0!=newcrawler_refresh&&"undefined"!=newcrawler_refresh)try{newcrawler_refresh()}catch(f){console.log(f.description||f)}c="<span style='color:green;'>"+c+"</span>";a&&a();"true"==d&&(top.window.location.href=U)}else c="<span style='color:red;'>"+c+"</span>";jQuery("#ncx_toolbar .ncx-toolbar-section.msg").html("<div>"+
c+"</div>");setTimeout(function(){jQuery("#ncx_toolbar .ncx-toolbar-section.msg").html("")},3E3)}})}function ua(){jQuery("#ncx_toolview > .ncx-content-top > .ncx-content-top-data table").empty();for(var a="<tr><th></th>",b=B.length,c=1;c<b;c++)var d=B[c].name,a=a+"<th>",a=a+d,a=a+"</th>";jQuery(a+"<th>createDate</th></tr>").appendTo(jQuery("#ncx_toolview > .ncx-content-top > .ncx-content-top-data table"));T=0;Y(T)}
function Y(a){var b=B.length,c=jQuery("#ncx_toolview > .ncx-content-top > .ncx-content-top-data table");xa(c);Z.crawlDataService.query(function(c){na=c=eval(c);var f=1;if(null!=c&&0<c.length){T=a;for(var e in c)if(!isNaN(e)){for(var g=eval(c[e].data),h="<tr><td>"+f+"</td>",k=c[e].createDate,n=1;n<b;n++){var w=B[n].name,D=!1,A;for(A in g)if(w==g[A].name){w=g[A].value;h+="<td>";h+=w;h+="</td>";D=!0;break}D||(h+="<td></td>")}h+="<td>"+k+"</td></tr>";jQuery(h).appendTo(jQuery("#ncx_toolview > .ncx-content-top > .ncx-content-top-data table"));
f++}}else{var h;jQuery("<tr><td  colspan='100'>Not Found Data.</td>").appendTo(jQuery("#ncx_toolview > .ncx-content-top > .ncx-content-top-data table"))}},Q,{javaClass:"com.soso.web.jsonrpc.bo.CrawlDataBo",siteId:R,startIndex:30*a,size:30,searchStarttime:null,searchEndtime:null})}function xa(a){a=a.get(0);for(var b=a.rows.length-1;0<b;b--)a.deleteRow(b)}
function ya(){pa();oa();U=top.window.location.href;jQuery("iframe[name=newcrawler]").height(jQuery(window).height()-46);jQuery(window).resize(function(){jQuery("iframe[name=newcrawler]").height(jQuery(window).height()-46)});jQuery(window).css("overflow","hidden");try{wa(function(){jQuery(document).on("mousemove",function(){});jQuery(".ncx_toolbar_cover").remove()})}catch(a){}}
function za(){document.getElementById("ncx_message-box").remove();jQuery(document).find("#ncx_message-box").css({"background-color":"#BCDFB7"});W("fade","Completed.",3E3);ya()}var Z,sa,ta;
jQuery(document).ready(function(){jQuery("#ncx_toolbar #ncx-cron-time").clockpicker({placement:"bottom",align:"top",autoclose:!0});jQuery("#ncx_toolbar #ncx-cron-date").datetimepicker({timepicker:!1,validateOnBlur:!1,closeOnDateSelect:!0,format:"Y-m-d"});JSONRpcClient.profile_async=!0;JSONRpcClient.max_req_active=5;JSONRpcClient.requestId=1;Z=jsonrpc=new JSONRpcClient("../JSON-RPC/MEMBER");sa=logsViewConsole;logsViewConsole.fn.init();ta=function(){jQuery(".logsViewConsole").click()};var a=getUrlParameter("webCrawlerId"),
b=getUrlParameter("siteId");V=new crawlDataLog({tableId:"ncx-crawlDataLog",listTableId:"ncx-crawlDataLogList",PER_PAGE_ITEMS:5,ITEMS_COUNT:0,cur_page:0,webCrawlerId:a,siteId:b});a=jQuery("#newcrawler").attr("lang");b=jQuery("#newcrawler")[0];b.attachEvent?b.attachEvent("onload",function(){za()}):b.onload=function(){za()};W("show","Loading...");b.src=a});
(function(a){a.fn.g=function(){var b;b=a.extend({handle:"",cursor:"move"},b);(""===b.handle?this:this.find(b.handle)).css("cursor",b.cursor).on("mousedown",function(c){var d=""===b.handle?a(this).addClass("draggable"):a(this).addClass("active-handle").parent().addClass("draggable"),f=d.css("z-index"),e=d.outerHeight(),g=d.outerWidth(),h=d.offset().top+e-c.pageY,k=d.offset().left+g-c.pageX;d.css("z-index",1E3).parents().on("mousemove",function(b){a(".draggable").offset({top:b.pageY+h-e,left:b.pageX+
k-g}).on("mouseup",function(){a(this).removeClass("draggable").css("z-index",f)})});c.preventDefault()}).on("mouseup",function(){""===b.handle?a(this).removeClass("draggable"):a(this).removeClass("active-handle").parent().removeClass("draggable")})}})(jQuery);
