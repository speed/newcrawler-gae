var n=!1,q=1,aa=0,ba=null,t=null,ca=!1,u=!1;
function da(a){a=a.target||a.srcElement;if("html"!=jQuery(a).get(0).tagName.toLowerCase()&&"ncx_highlightTool"!=jQuery(a).attr("class")&&1==q&&!v&&!jQuery(a).hasClass("ncx_highlighted")){jQuery("#newcrawler").contents().find("body").find(".ncx_highlighted").removeClass("ncx_highlighted");jQuery(a).hasClass("ncx-cursor-delete")||jQuery(a).addClass("ncx-cursor-add");aa=1;ba=a;var c=jQuery(a).offset(),e=jQuery(a).outerWidth(),d=jQuery(a).outerHeight(),f=jQuery("#newcrawler").contents().width();e>f&&
(e=f-8);f=c.left;c=c.top;d="<div style='left:"+f+"px; top:"+c+"px; width:"+e+"px; height:"+d+"px;z-index : 2999999999;position : absolute;border:2px double rgb(147, 247, 250);pointer-events:none;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;' id='ncx_traceHighlight_all_' class='ncx_highlightTool'></div>"+("<div style='left:"+(f+1)+"px; top:"+(c+1)+"px; width:"+(e-2)+"px; height:"+(d-2)+"px;z-index : 2999999999;position : absolute;border:1px dashed rgb(151, 75, 75);pointer-events:none;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;' id='ncx_traceHighlight_all_' class='ncx_highlightTool'></div>");
jQuery("#newcrawler").contents().find("#ncx_curlCover .ncx_highlightTool").remove();jQuery("#newcrawler").contents().find("#ncx_curlCover").append(d);jQuery(a).addClass("ncx_highlighted");return!0}return!1}var w=0,ea=null;function fa(a){return null==a||"null"==a||""==a||void 0==a||"undefined"==a||[]==a||void 0==jQuery(a).get(0).tagName}function z(a,c){a.append(c)}
function A(a,c,e,d,f){a.css({left:c,top:e,width:d,height:f});a.css({"z-index":99999,position:"absolute","background-color":"#000",opacity:.5})}
function ga(a){a.find(".ncx_zoom").find(".ncx_larger").mouseover(function(){jQuery(this).addClass("ncx_on")});a.find(".ncx_zoom").find(".ncx_smaller").mouseover(function(){jQuery(this).addClass("ncx_on")});a.find(".ncx_zoom").find(".ncx_larger").mouseout(function(){jQuery(this).removeClass("ncx_on")});a.find(".ncx_zoom").find(".ncx_smaller").mouseout(function(){jQuery(this).removeClass("ncx_on")});a.find(".ncx_zoom").find(".ncx_larger").unbind("click").click(function(){var c=jQuery("#newcrawler-csspath").data("child");
B<c.length&&B++;c=c[B];if(!fa(c)){E=c=c[0];F=F.slice(0,F.length-1);G(c);var c=E,a=H.join("");jQuery("#newcrawler-csspath").text(a);I++;F.push({index:I,b:H,j:J});L(c,2,!1);M(c)}});a.find(".ncx_zoom").find(".ncx_smaller").unbind("click").click(function(){var c=jQuery("#newcrawler-csspath").data("child");0<B&&B--;c=c[B];if(!fa(c)){E=c=c[0];F=F.slice(0,F.length-1);G(E);var c=E,a=H.join("");jQuery("#newcrawler-csspath").text(a);I++;F.push({index:I,b:H,j:J});L(c,2,!1);M(c)}});a.find(".ncx-accept-highlight").unbind("click").click(function(){for(var c=
jQuery(this).attr("lang"),a=0,d=H.length;a<d;a++)-1!=H[a].indexOf(":nth-of-type(*)")&&c!=a&&(H[a]=J[a]);c=E;jQuery("#newcrawler").contents().find("body").contents().find('.ncx-cursor-delete[ncx-index="'+I+'"]').removeAttr("ncx-index").removeClass("ncx-cursor-delete");L(c,ea,!0)});a.find(".ncx-reject-highlight").unbind("click").click(function(){for(var c=jQuery(this).attr("lang"),a=0,d=H.length;a<d;a++)-1!=H[a].indexOf(":nth-of-type(*)")&&c==a&&(H[a]=J[a]);c=E;jQuery("#newcrawler").contents().find("body").contents().find('.ncx-cursor-delete[ncx-index="'+
I+'"]').removeAttr("ncx-index").removeClass("ncx-cursor-delete");L(c,ea,!1)})}
function ha(a,c,e,d,f,h,g,k,l){var m,p;w+=1;var r="";d&&(r="<div class='ncx_selector' style='background-color:"+k+"; position: absolute; height: 15px; width: 35px;bottom: -17px; left: -2px;    pointer-events: auto;'><a class='ncx-highlight-button ncx-accept-highlight' lang='"+g+"' style='background: url(\""+newcrawler_server_url+"static/xpath/v2/icon-highlight-accept.svg\") no-repeat 50% 50%;background-size: 10px 10px;right: 0px;padding-right: 10px;display: inline-block;cursor: pointer!important;height: 12px;width: 12px;opacity: .4;position: absolute;margin-top: 1px;'></a><a class='ncx-highlight-button ncx-reject-highlight' lang='"+g+
"' style='background: url(\""+newcrawler_server_url+"static/xpath/v2/icon-highlight-reject.svg\") no-repeat 50% 50%;background-size: 10px 10px;right: 15px;padding-right: 10px;display: inline-block;cursor: pointer!important;height: 12px;width: 12px;opacity: .4;position: absolute;margin-top: 1px;'></a></div>");d="";f&&(jQuery("#newcrawler").contents().find("#ncx_cover-container .ncx_highlightTool .ncx_zoom").remove(),d="<div class='ncx_zoom' style='background-color:rgb(213, 156, 84); position: absolute; height: 15px; width:45px;    padding: 0px 5px; border-radius: 0px 0px 5px 0px;    pointer-events: auto;'><a class='ncx_larger ncx-highlight-button' lang='"+
g+"'></a><a class='ncx_smaller ncx-highlight-button' lang='"+g+"'></a></div>");g=jQuery(e).offset();f=jQuery(e).outerWidth();e=jQuery(e).outerHeight();k=jQuery("#newcrawler").contents().width();f>k&&(f=k-8);p||(p="#facd93");m||(m="1px dashed #000");k=g.left;g=g.top;p="<div style='left:"+k+"px; top:"+g+"px; width:"+f+"px; height:"+e+"px;z-index : 3999999999;position : absolute;border:"+("2px double "+p)+";pointer-events:none;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;' id='ncx_traceHighlight_all_"+
w+"' class='ncx_highlightTool "+l+" seq"+c+" zoomIndex"+h+"' index='"+a+"'>"+d+r+"</div>";p+="<div style='left:"+(k+1)+"px; top:"+(g+1)+"px; width:"+(f-2)+"px; height:"+(e-2)+"px;z-index : 2999999999;position : absolute;border:"+m+";pointer-events:none;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;' id='ncx_traceHighlight_all_"+w+"' class='ncx_highlightTool "+l+" seq"+c+" zoomIndex"+h+"' index='"+a+"'></div>";jQuery("#newcrawler").contents().find("#ncx_cover-container").append(p);
a=jQuery("#newcrawler").contents().find("#ncx_cover-container").find("#ncx_traceHighlight_all_"+w);ga(a);jQuery("#newcrawler").contents().find("#ncx_curlCover").unbind("click").click(function(){N()})}
function ia(a){var c=jQuery(a).offset().top,e=jQuery(a).offset().left,d=jQuery(a).outerWidth();a=jQuery(a).outerHeight();var f=jQuery("#newcrawler").contents().outerHeight(),h=jQuery("#newcrawler").contents().outerWidth();d>h+8&&(d=h);z(jQuery("#newcrawler").contents().find("#ncx_cover-container"),"<div id='ncx_highlightCover_top' class='ncx_highlightCover ncx_highlightTool'></div>");z(jQuery("#newcrawler").contents().find("#ncx_cover-container"),"<div id='ncx_highlightCover_right' class='ncx_highlightCover ncx_highlightTool'></div>");
z(jQuery("#newcrawler").contents().find("#ncx_cover-container"),"<div id='ncx_highlightCover_bottom' class='ncx_highlightCover ncx_highlightTool'></div>");z(jQuery("#newcrawler").contents().find("#ncx_cover-container"),"<div id='ncx_highlightCover_left' class='ncx_highlightCover ncx_highlightTool'></div>");var g=jQuery("#newcrawler").contents().find("#ncx_highlightCover_top"),k=jQuery("#newcrawler").contents().find("#ncx_highlightCover_right"),l=jQuery("#newcrawler").contents().find("#ncx_highlightCover_bottom"),
m=jQuery("#newcrawler").contents().find("#ncx_highlightCover_left");A(g,0,0,h+8,c-3);A(k,e+3+d,c-3,h-e-3-d+8,a+6);A(l,0,c+3+a,h+8,f-c-a+155);A(m,0,c-3,e-3,a+6);q=0;jQuery("#newcrawler").contents().find("#ncx_cover-container .ncx_highlightTool").unbind("click").click(function(){N()})}function N(){ja();jQuery("#newcrawler").contents().find("#ncx_curlCover .ncx_highlightTool").remove();jQuery("#newcrawler").contents().find("#ncx_cover-container .ncx_highlightTool").remove();ka()}
function ja(){H=[];J=[];F=[];I=0;v=!1;q=1;u=!1;jQuery("#ncx_toolbar .ncx-datatypes .active:not(.finished) .ncx-count").text("0");jQuery("#ncx_toolbar .ncx-datatypes .active:not(.finished) .ncx-count").attr("lang","0");jQuery("#ncx_toolbar .ncx-datatypes .active.finished .ncx-count").text(jQuery("#ncx_toolbar .ncx-datatypes .active.finished .ncx-count").attr("lang"));jQuery("#ncx-selector-attr optgroup[label=Attr]").empty();jQuery("#ncx-selector-attr option[value='innerHTML']").prop("selected",!0);
jQuery("#newcrawler-csspath").text("");jQuery("#newcrawler").contents().find("body").contents().find("*").each(function(){$(this).removeClass("ncx-cursor-delete")});jQuery("#newcrawler").contents().find("body").contents().find("*").removeAttr("ncx-zoom-index")}
function ka(){jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool").remove();jQuery("#newcrawler").contents().find("#ncx_curlCover").css({"pointer-events":"none"});jQuery("#newcrawler").contents().find("#ncx_cover-container .ncx_highlightCover").remove();n=!1;q=1}function la(){jQuery("#ncx_toolbar button.ncx.ncx-button.ncx-save").show();jQuery("#ncx_toolbar button.ncx.ncx-button.ncx-test").show();jQuery("#ncx_toolbar button.ncx.ncx-button.ncx-view").show()}
function ma(){if(n){if(0<jQuery("#newcrawler").contents().find("#ncx_cover-container .ncx_highlightTool.selected").length){jQuery("#newcrawler").contents().find("#ncx_curlCover .ncx_highlightTool").remove();jQuery("#newcrawler").contents().find("#ncx_cover-container .ncx_highlightTool.mouseover").remove();jQuery("#newcrawler").contents().find("#ncx_curlCover").css({"pointer-events":"auto"});var a=E;ia(a);na(a);M(a)}}else ka()}
function oa(a){var c=(new Date).getTime();console.log((c-a)/1E3);return c}
function L(a,c,e){var d=I;if(O()){H=null;for(var f=J.length,h=f-1;0<h;h--)if("a"==J[h]||0==J[h].indexOf("a:")){for(var g=[],f=h,k=0;k<=f;k++)g[k]=J[k];a=g.join("");a=a.replace(":nth-of-type(*)","");a=jQuery("#newcrawler").contents().find(a)[0];J=g.slice(0);H=g.slice(0);break}if(null==H){N();return}}if(!e){h=k=0;for(f=H.length;h<f;h++)-1!=H[h].indexOf(":nth-of-type(*)")&&k++;1>=k&&(e=!0)}jQuery("#newcrawler").contents().find("#ncx_cover-container .ncx_highlightTool.seq"+pa).remove();var g=null,l=0;
if(!O()&&1<P.length){g=P[1].a;h=1;for(f=P.length;h<f;h++)for(k=0,l=P[h].a.length;k<l;k++)-1!=P[h].a[k].indexOf(":nth-of-type(*)")&&(g=P[h].a);l=g.length}k=0;if(!e)for(h=0,f=H.length;h<f;h++)if(-1!=H[h].indexOf(":nth-of-type(*)")){if(null!=g)if(l>h){if(-1==g[h].indexOf(":nth-of-type(*)")){H[h]=J[h];continue}}else{H[h]=J[h];continue}k++}v=!1;0<k?(v=!0,jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool").remove(),c=1):n&&(ia(a),1===c?na(a):(E=h=a,qa(h),jQuery(E).get(0),jQuery("#newcrawler-selector").find(".ncx_et_content_inner input[name='ncx_selectType'][value='innerHTML']").prop("checked",
!0),jQuery("#newcrawler-selector").find(".ncx_et_content_inner input[name='ncx_selectType'][value='innerHTML']").click(),jQuery("#newcrawler-selector").find("#ncx_copy_xpath_tips").text(""),jQuery("#newcrawler-selector").find("#ncx_copy_xpath_text").css({"background-color":"white"}),jQuery("#newcrawler-selector").find("#ncx_copy_csspath_tips").text(""),jQuery("#newcrawler-selector").find("#ncx_copy_csspath_text").css({"background-color":"white"})),M(a));ea=c;c=[];e=0;g=!1;h=0;for(f=H.length;h<f;h++)if(c[h]=
H[h],-1!=c[h].indexOf(":nth-of-type(*)")||!g&&h+1==f){g=!0;for(k=h+1;k<f;k++)c[k]=J[k];var k=c.join(""),k=k.replace(":nth-of-type(*)",""),k=jQuery("#newcrawler").contents().find(k),l=k.length,m;m=e;var p="#F9AEAE #F1C194 #F3E13B #CEF57B #9CF994 #75D8BA #55C5F5 #A7A5E4 #D291FF #FF91D5 #EBD2D6".split(" "),r=p.length;m>=r&&(m=r-1);m=p[m];e++;for(p=0;p<l;p++){var r=k[p],x=p;$(r).removeAttr("ncx-zoom-index").attr("ncx-zoom-index",x);$(r).removeClass("ncx-cursor-add").addClass("ncx-cursor-delete");$(r).attr("ncx-index",
d);var y=!1;Q(r,a)&&(y=!0);ha(d,pa,r,v,y,x,h,m,"selected")}c[h]=J[h]}l=R(F);jQuery("#ncx_toolbar .ncx-datatypes .active .ncx-count").text(l);u=!0}function O(){return jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.active").hasClass("ncx-pagination")}
function M(a){var c="",e=F,d;for(d in e)""!=c&&(c+="|"),c+=e[d].b.join("");jQuery("#newcrawler-selector").find("#ncx_copy_xpath_text").val(c);a=jQuery(a).get(0);n||(jQuery("#ncx-selector-attr optgroup[label=Attr]").empty(),jQuery("#ncx-selector-attr option[value='innerHTML']").prop("selected",!0));jQuery("#newcrawler-selector").find("select[name='ncx_attr']").empty();jQuery("#newcrawler-selector").find("select[name='ncx_attr']").append('<option value=""></option>');c=!1;d=0;for(var e=a.attributes,
f=e.length;d<f;d++){var h=e[d].nodeName.toLowerCase();-1==h.indexOf("ncx-")&&-1==h.indexOf("ncx_")&&(0==jQuery("#ncx-selector-attr optgroup[label=Attr] option[value='"+h+"']").length&&jQuery("#ncx-selector-attr optgroup[label=Attr]").append('<option value="'+h+'">'+h+"</option>"),jQuery("#newcrawler-selector").find("select[name='ncx_attr']").append('<option value="'+h+'">'+h+"</option>"),c=!0)}d=jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-data-dot.active").attr("title");jQuery("#newcrawler-selector").find("input[name=ncx_property_name]").val(d);
if(!n)if(c?(jQuery("#newcrawler-selector").find("input[name='ncx_selectType'][value='@ATTR']").attr("disabled",!1),jQuery("#newcrawler-selector").find("select[name='ncx_attr']").attr("disabled",!1)):(jQuery("#newcrawler-selector").find("input[name='ncx_selectType'][value='@ATTR']").attr("disabled",!0),jQuery("#newcrawler-selector").find("select[name='ncx_attr']").attr("disabled",!0)),c&&("img"==a.tagName.toLowerCase()||"a"==a.tagName.toLowerCase()&&"Link"==d||O())){var g="src";if("img"==a.tagName.toLowerCase())g=
"src";else if("a"==a.tagName.toLowerCase()&&"Link"==d||O())g="href";jQuery("#newcrawler-selector").find("input[name='ncx_selectType'][value='@ATTR']").prop("checked",!0);jQuery("#newcrawler-selector").find("select[name='ncx_attr'] option").each(function(){var c=this.value;if(null!=c&&""!=c){var a=ra("@ATTR",c);if(null!=a&&""!=a&&a.toString().toLowerCase().startsWith("http")&&(jQuery("#newcrawler-selector").find("select[name='ncx_attr']").val(c),c==g))return!1}});jQuery("#newcrawler-selector").find("select[name='ncx_attr']").change();
jQuery("#ncx-selector-attr optgroup[label='Attr'] option").each(function(){var c=this.value;if(null!=c&&""!=c){var a=ra("@ATTR",c);if(null!=a&&""!=a&&a.toString().toLowerCase().startsWith("http")&&(jQuery(this).prop("selected",!0),c==g))return!1}})}else"Headline"==d||"Author"==d?(jQuery("#ncx-selector-attr option[value='innerTEXT']").prop("checked",!0),jQuery("#newcrawler-selector").find(".ncx_et_content_inner input[name='ncx_selectType'][value='innerTEXT']").prop("checked",!0),jQuery("#newcrawler-selector").find(".ncx_et_content_inner input[name='ncx_selectType'][value='innerTEXT']").click()):
(jQuery("#ncx-selector-attr option[value='innerHTML']").prop("checked",!0),jQuery("#newcrawler-selector").find(".ncx_et_content_inner input[name='ncx_selectType'][value='innerHTML']").prop("checked",!0),jQuery("#newcrawler-selector").find(".ncx_et_content_inner input[name='ncx_selectType'][value='innerHTML']").click());jQuery("#ncx_toolbar .ncx-toolbar-section #ncx-selector-attr").change();jQuery("#newcrawler-selector").find(".ncx_et_content_inner input[name=ncx_selectType]:checked").click();jQuery("#newcrawler-selector").find("select[name='ncx_attr']").change()}
var B=0,sa=[],E={},H=[],J=[],F=[],I=0;function ta(a){sa.push(a);a=jQuery(a).parent();var c=a.get(0);return fa(c)?sa:ta(a)}function na(a){E=a;jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool").remove();var c=wa("et_wrap");z(jQuery("#newcrawler-selector"),c);xa("ncx_et_state_10");ya();setTimeout(function(){qa(a)},1)}
function qa(a){jQuery(a).offset();jQuery("#newcrawler").outerHeight();var c=jQuery("#newcrawler").offset().top,e=jQuery("#newcrawler").contents().scrollTop(),d=jQuery(a).offset().top,d=d-e+c,c=jQuery(a).offset().left,e=jQuery(a).outerWidth(),f=jQuery(a).outerHeight(),h=jQuery("#newcrawler").outerHeight();a=jQuery("#newcrawler").outerWidth();var g=jQuery("#ncx_toolbar").outerHeight(),g=0,k=jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool").outerHeight();h-d-f<k?(h=c+e-400,h=c-3,d=d-k-2+g,0>=
h&&(h=0),h+400>a&&(h=c+e-400+3,h>a&&(h=a-400-10)),jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool").css({left:h+"px",top:d+"px"})):(h=c+e-400,h=c-3,d=d+f+3+g,0>=h&&(h=0),h+400>a&&(h=c+e-400+3,h>a&&(h=a-400-10)),jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool").css({left:h+"px",top:d+"px"}));jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool").css({opacity:"1"});var l=jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool"),m=l.offset().top,p=jQuery(jQuery("#newcrawler").contents()).scrollTop();
jQuery(jQuery("#newcrawler").contents()).on("scroll",function(){var c=jQuery(this).scrollTop()-p,c=m-c;l.stop(!1,!1).animate({top:47>c?47:c},0)})}
function wa(a){var c="";switch(a){case "et_wrap":c="<div class='ncx_edit_tpl_tool' style='opacity: 0;position : absolute; z-index : 999990;' id='ncx_edit_tpl_tool'><ul id='ncx_et_bar' class='ncx_et_bar'><li class='ncx_col4' id='ncx_et_state_4'><span class='ncx_bar_button_tilte'>Detail</span></li></ul><div id='ncx_et_content' class='ncx_et_content'></div></div>";break;case "et_conetent_inner_20":c="<div class='ncx_et_content_inner' id='ncx_copy_xpath_container' style='position:relative'><div style='padding-bottom: 3px;'><input id='ncx_copy_xpath_text' class='ncx_xpath' value=''/></div>";
c+="<div class='ncx_button'><button id='ncx_copy_xpath_button' class='ncx_xpath_copy'>Copy Selector</button><button class='ncx_et_cancel'></button></div>";c+="<div id='ncx_copy_xpath_tips' class='ncx_tips'></div>";c+="</div>";break;case "et_conetent_inner_30":c="<div class='ncx_et_content_inner' id='ncx_copy_csspath_container' style='position:relative'><div style='padding-bottom: 3px;'><input id='ncx_copy_csspath_text' class='ncx_csspath' value=''/></div>";c+="<div class='ncx_button'><button id='ncx_copy_csspath_button' class='ncx_csspath_copy'>Copy Selector</button><button class='ncx_et_cancel'></button></div>";
c+="<div id='ncx_copy_csspath_tips' class='ncx_tips'></div>";c+="</div>";break;case "et_conetent_inner_40":c="<div class='ncx_et_content_inner'><div><input name='ncx_property_name' type='text' value='' placeholder='Property Name' style='vertical-align: middle;height: 25px;    border: solid 1px #B2B2B2;'></div>",c+="<div style='padding-bottom: 3px;padding-top: 3px;'><input id='ncx_copy_xpath_text' class='ncx_xpath ncx_expression' value=''/></div>",c+="<div style='height: 22px;'>",c+="<div style='float:left;margin-left:0px;width:80px;'><input name='ncx_selectType' type='radio' value='outerHTML' style='vertical-align: middle;'><span>outerHTML</span></div>",
c+="<div style='float:left;margin-left:0px;width:80px;'><input name='ncx_selectType' type='radio' value='innerHTML' style='vertical-align: middle;' checked='checked' ><span>innerHTML</span></div>",c+="<div style='float:left;margin-left:0px;width:80px;'><input name='ncx_selectType' type='radio' value='innerTEXT' style='vertical-align: middle;'><span>innerTEXT</span></div>",c+="<div style='float:left;margin-left:0px;width:80px;'><input name='ncx_selectType' type='radio' value='@ATTR' style='vertical-align: middle;display:none;'><span><select name='ncx_attr' style='width: 140px;'></select></span></div>",
c+="</div>",c+="<div><pre id='ncx_content_preview' class='ncx_content'></pre></div>",c+="<div class='ncx_button'>",c+="<button id='ncx_copy_xpath_button' class='ncx_xpath_copy'>Copy Selector</button>",c+="<button class='ncx_et_cancel'>OK</button>",c+="</div>",c+="<div class='ncx_tips'></div></div>"}return c}
function za(){var a=new ZeroClipboard(document.getElementById("ncx_copy_csspath_button"));a.on("ready",function(){a.on("copy",function(c){c.clipboardData.setData("text/plain",jQuery("#newcrawler-selector").find("#ncx_copy_csspath_text").text())});a.on("aftercopy",function(){jQuery("#newcrawler-selector").find(".ncx_et_content_inner .ncx_tips").text("Copied CssPath.");jQuery("#newcrawler-selector").find(".ncx_et_content_inner .ncx_expression").css({"background-color":"white"});jQuery("#newcrawler-selector").find("#ncx_copy_csspath_text").css({"background-color":"rgb(236, 248, 233)"})})});
var c=new ZeroClipboard(document.getElementById("ncx_copy_xpath_button"));c.on("ready",function(){c.on("copy",function(c){c.clipboardData.setData("text/plain",jQuery("#newcrawler-selector").find("#ncx_copy_xpath_text").val())});c.on("aftercopy",function(){jQuery("#newcrawler-selector").find(".ncx_et_content_inner .ncx_tips").text("Copied XPath.");jQuery("#newcrawler-selector").find(".ncx_et_content_inner .ncx_expression").css({"background-color":"white"});jQuery("#newcrawler-selector").find("#ncx_copy_xpath_text").css({"background-color":"rgb(236, 248, 233)"})})})}
function ra(a,c){"@ATTR"!=a||c||(c=jQuery("#newcrawler-selector").find(".ncx_et_content_inner select[name='ncx_attr']").val());var e="",d=F,f;for(f in d){for(var h=d[f].b.slice(),g=0,k=h.length;g<k;g++)-1!=h[g].indexOf(":nth-of-type(*)")&&(h[g]=d[f].j[g]);h=h.join("");h=jQuery("#newcrawler").contents().find(h);if(0<h.length){g="";if("@ATTR"==a){if(c){g=h.prop(c);if(null==g||void 0==g||""==g)g=h.attr(c);""!=g&&"class"==c&&(g=g.replaceAll("ncx-\\S+","").replaceAll("ncx_\\S+",""))}}else switch(k=h.get(0),
a){case "outerHTML":g=h=k.outerHTML;break;case "innerHTML":g=h=k.innerHTML;break;case "innerTEXT":g=h=h.text()}null!=g&&void 0!=g&&""!=g&&(""!=e&&(e+="\r\n"),e+=g)}}if(null==e||""==e)e="";else if(e=e.replaceAll("<ncx-text>","").replaceAll("</ncx-text>",""),d=jQuery("#ncx_toolbar .ncx-datatypes .ncx-data-dot.active").attr("title"),"Headline"==d||"Author"==d)e=e.replace(/(?:\r\n|\r|\n)/g,""),e=e.replace(/\s+/g," "),e=e.trim();return e}
function xa(a){jQuery("#newcrawler-selector").find("#ncx_et_bar").removeClass("ncx_shape1");jQuery("#newcrawler-selector").find(".ncx_bar_button_tilte").removeClass("ncx_on");jQuery("#newcrawler-selector").find("#ncx_et_content").removeClass("ncx_shape1");jQuery("#newcrawler-selector").find("#ncx_et_content").empty();switch(a){case "ncx_et_state_10":jQuery("#newcrawler-selector").find("#ncx_et_bar").addClass("ncx_shape1");break;case "ncx_et_state_20":jQuery("#newcrawler-selector").find("#ncx_et_bar").addClass("ncx_shape1");
jQuery("#newcrawler-selector").find(".ncx_col2 > .ncx_bar_button_tilte").addClass("ncx_on");jQuery("#newcrawler-selector").find("#ncx_et_content").addClass("ncx_shape1");a=wa("et_conetent_inner_20");z(jQuery("#newcrawler-selector").find("#ncx_et_content"),a);a=G(jQuery(E).get(0));jQuery("#newcrawler-selector").find("#ncx_copy_xpath_text").val(a);za();break;case "ncx_et_state_30":jQuery("#newcrawler-selector").find("#ncx_et_bar").addClass("ncx_shape1");jQuery("#newcrawler-selector").find(".ncx_col3 > .ncx_bar_button_tilte").addClass("ncx_on");
jQuery("#newcrawler-selector").find("#ncx_et_content").addClass("ncx_shape1");a=wa("et_conetent_inner_30");z(jQuery("#newcrawler-selector").find("#ncx_et_content"),a);a=G(jQuery(E).get(0));jQuery("#newcrawler-selector").find("#ncx_copy_csspath_text").text(a);za();break;case "ncx_et_state_40":jQuery("#newcrawler-selector").find("#ncx_et_bar").addClass("ncx_shape1"),jQuery("#newcrawler-selector").find(".ncx_col4 > .ncx_bar_button_tilte").addClass("ncx_on"),jQuery("#newcrawler-selector").find("#ncx_et_content").addClass("ncx_shape1"),
a=wa("et_conetent_inner_40"),z(jQuery("#newcrawler-selector").find("#ncx_et_content"),a),jQuery(E).get(0),jQuery("#newcrawler-selector").find(".ncx_et_content_inner select[name='ncx_attr']").unbind("change").change(function(){jQuery("#newcrawler-selector").find(".ncx_et_content_inner input[name=ncx_selectType][value='@ATTR']").prop("checked",!0);if(""==this.value)jQuery("#newcrawler-selector").find(".ncx_et_content_inner input[name=ncx_selectType][value='innerHTML']").prop("checked",!0),jQuery("#newcrawler-selector").find(".ncx_et_content_inner input[name=ncx_selectType][value='innerHTML']").click();
else{var c=ra("@ATTR");jQuery("#newcrawler-selector").find("#ncx_content_preview").text(c);jQuery("#ncx-selector-attr").val(this.value)}}),jQuery("#newcrawler-selector").find(".ncx_et_content_inner input[name=ncx_selectType]").unbind("click").click(function(){jQuery("#newcrawler-selector").find(".ncx_et_content_inner select[name='ncx_attr']").val("");var c=jQuery(this).val();jQuery("#ncx-selector-attr").val(c);c=ra(c);jQuery("#newcrawler-selector").find("#ncx_content_preview").text(c)}),za()}jQuery("#newcrawler-selector").find(".ncx_et_cancel").unbind("click").click(function(){var c=
jQuery("#newcrawler-selector").find("input[name=ncx_property_name]").val();ka();jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-data-dot.active").attr("title",c)})}
function Aa(){u=!1;var a=jQuery("#ncx_toolbar .ncx-datatypes .ncx-data-dot.active").length;if(0!=a&&jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-data-dot").hasClass("active")){var c=jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-data-dot.active").find(".ncx-count").text(),c=parseInt(c);if(0==c)jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-data-dot.active .ncx-delete-datatype").click();else{var c=jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-data-dot.active").attr("lang"),e="@ATTR",
d="";"Html"==jQuery("#ncx-selector-attr option:selected").parent().prop("label")?e=jQuery("#ncx-selector-attr option:selected").val():d=jQuery("#ncx-selector-attr option:selected").val();var f=jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-data-dot.active").attr("title");if(null==f||""==f)if(f="property",O())c=0,f="pagination";else for(var h=c;500>h;h++){for(var f="property"+h,g=!1,k=1,a=P.length;k<a;k++)if(f==P[k].name){g=!0;break}if(!g)break}a=[];0<F.length&&(a=F[0].b);Ba(null,c,f,a.join(""),
a,e,O(),d,F);la()}}}function Ca(a){I=0;var c=[];a=a.split("|");var e="",d=[],f=[],h;for(h in a){for(var e=a[h],d=[],f=[],g=a[h].split(" > "),k=0,l=g.length;k<l;k++)if(""!=g[k])if(d.push(" > "),d.push(g[k]),f.push(" > "),-1!=g[k].indexOf(":nth-of-type(*)"))f.push(g[k]);else{var m=g[k].replace(":nth-of-type(*)",":nth-of-type(1)");f.push(m)}" > "==d[0]&&(d=d.slice(1),f=f.slice(1));I++;c.push({index:I,b:d,j:f})}return{f:c,a:d,g:e}}
function R(a){for(var c=0,e=0,d=a.length;e<d;e++)var f=a[e].b.join("").replaceAll(":nth-of-type\\(\\*\\)",""),f=jQuery("#newcrawler").contents().find(f),c=c+f.length;return c}
function Ba(a,c,e,d,f,h,g,k,l){var m=R(l);if(g)jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-data-dot.ncx-pagination .ncx-count").attr("lang",m),jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-data-dot.ncx-pagination .ncx-count").text(m),jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-data-dot.ncx-pagination").addClass("finished ncx-blue"),P[0]={id:a,index:0,name:e,g:d,a:f,i:h,h:k,f:l};else{if(jQuery("#ncx_toolbar .ncx-datatypes .ncx-data-dot.active").hasClass("finished"))for(jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-data-dot.active .ncx-count").attr("lang",
m),jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-data-dot.active .ncx-count").text(m),a=jQuery("#ncx_toolbar .ncx-datatypes .ncx-data-dot.active").attr("lang"),g=1,m=P.length;g<m;g++){if(c=P[g].index,a==c){P[g].name=e;P[g].g=d;P[g].a=f;P[g].i=h;P[g].h=k;P[g].f=l;break}}else jQuery('<a lang="'+S+'" class="ncx-label ncx-data-dot ncx-blue finished" title="'+e+'"><span class="ncx-count" lang="'+m+'">'+m+'</span><span class="ncx-delete-datatype" style="display: none;"></span></a>').insertBefore(jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-yellow.active")),
P.push({id:a,index:c,name:e,g:d,a:f,i:h,h:k,f:l}),S+=1,jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-data-dot.ncx-yellow.active").attr("lang",S);jQuery("#ncx_toolview .ncx-export-window-wordpress .ncx-export-content select.allFileds").append("<option value='${"+e+"}'>"+e+"</option>");c=jQuery("#ncx_toolview .ncx-export-window-db .ncx-export-content .fieldMap .temp").clone();c.removeClass("temp");c.find(".labelName").text(e);c.find("input[name=labelName]").val("${"+e+"}");c.find("input[name=param]").val(e);
jQuery("#ncx_toolview .ncx-export-window-db .ncx-export-content .fieldMap").append(c);jQuery("#ncx_toolview .ncx-export-window-rss .ncx-export-content select.allFileds").append("<option value='"+e+"'>"+e+"</option>")}jQuery("#ncx_toolbar .save").attr("disabled",!1);Da()}function Q(a,c){return void 0==a||void 0==c?!1:0==a.compareDocumentPosition(c)?!0:!1}
function G(a){H=[];for(J=[];a&&void 0!==a.tagName;a=a.parentNode){var c=a.tagName;if(!c)break;c=c.toLowerCase();if("ncx_cover-container"!=a.id){var e=jQuery(a).parent().children(c).not("#ncx_cover-container"),d=e.length,f="",h="";if(1<d)for(var g=0;g<d;g++){var k=e[g];if(Q(a,k))""==f&&(f=":nth-of-type("+(g+1)+")"),h=":nth-of-type("+(g+1)+")";else if(":nth-of-type(*)"!=f&&!O())if(0<H.length){var l=J.join(""),k=jQuery(k).find(l).length;0<k&&0<k&&(f=":nth-of-type(*)")}else f=":nth-of-type(*)"}""==f&&
(h=f="");if("html"==c||"body"==c)h=f="";e=Ea(c);if(l=a.className)for(k=l.split(" "),l=null,g=0,d=k.length;g<d;g++)if(""!=k[g]&&-1==k[g].indexOf("ncx-")&&-1==k[g].indexOf("ncx_")&&!/\d+/.test(k[g])&&null==l){l=k[g];break}k=!1;g="#";d="";l&&!/\s/.test(l)?(k=!0,g=".",d=l):a.id&&!/\s/.test(a.id)&&(k=!0,d=a.id,isNaN(d)||(d="\\3"+a.id));if(k){if(O())for(var k=!1,l=0,m=H.length;l<m;l++)if("a"==H[l]||0==H[l].indexOf("a:")){k=!0;break}if(k&&(k=c+g+d+f,l=c+g+d+h,g=c+g+d,Ea(g)==e&&(e=H.slice(0),d=J.slice(0),
Fa(g,e,d))))if(!O()&&1<P.length){if(k==P[1].a[0]){H.unshift(k);J.unshift(l);break}}else{H.unshift(k);J.unshift(l);break}}H.unshift(c+f);H.unshift(" > ");J.unshift(c+h);J.unshift(" > ")}}" > "==H[0]&&(H=H.slice(1),J=J.slice(1));if(O()){a=!1;for(g=H.length-1;0<=g;g--){c=H[g];if("a"==c||0==c.indexOf("a:"))break;H[g]=H[g].slice(-1);J[g]=J[g].slice(-1);a=!0}a&&(a=H.join(""),a=jQuery("#newcrawler").contents().find(a),0<a.length&&(E=a=a[0]))}if(0<F.length||1<P.length){g=0;for(a=H.length;g<a;g++)-1!=H[g].indexOf(":nth-of-type(*)")&&
(c=J.slice(0),f=J.slice(0),c[g]=H[g],Fa("",c,f)||(H[g]=J[g]));var p;0<F.length?p=F[0].b:1<P.length&&(p=P[1].a);c=!0;g=0;for(a=H.length;g<a;g++){if(g>p.length||p[g]!=H[g])c=!1;c||-1==H[g].indexOf(":nth-of-type(*)")||(H[g]=J[g])}}return a=H.join("")}
function Fa(a,c,e){var d=null,f=null;0<F.length?f=F[0].b:1<P.length&&(f=P[1].a);if(null!=f){var h=f.join("").replace(":nth-of-type(*)","");jQuery("#newcrawler").contents().find(h).each(function(){d=Ga(this,f);return!1})}var g=!1;null!=a&&""!=a&&c.unshift(a);for(var k=!1,l=0,m=c.length;l<m;l++)if(-1!=c[l].indexOf(":nth-of-type(*)")){var k=!0,p=e.slice(0);null!=a&&""!=a&&p.unshift(a);p[l]=c[l];var r=null,h=p.join("").replace(":nth-of-type(*)","");jQuery("#newcrawler").contents().find(h).each(function(){r=
Ga(this,p);if(null==d)d=r;else if(null!=r&&null!=d&&!Q(d[0],r[0]))return g=!0,!1})}k||(h=c.join(""),jQuery("#newcrawler").contents().find(h).each(function(){r=Ga(this,c);if(null==d)d=r;else if(null!=r&&null!=d&&!Q(d[0],r[0]))return g=!0,!1}));return!g}function Ga(a,c){for(var e=c.length/2-1,d=jQuery(a).parent(),f=0;f<e;f++)d=jQuery(d).parent();return d}
function Ea(a){for(var c=H.slice(0),e=0,d=c.length;e<d;e++)-1!=c[e].indexOf(":nth-of-type(*)")&&(c[e]=J[e]);c.unshift(a);a=c.join("");return jQuery("#newcrawler").contents().find(a).length}
function ya(){jQuery("#newcrawler-selector").find(".ncx_bar_button_tilte").mouseover(function(){jQuery(this).addClass("ncx_onhover")});jQuery("#newcrawler-selector").find(".ncx_bar_button_tilte").mouseout(function(){jQuery(this).removeClass("ncx_onhover")});jQuery("#newcrawler-selector").find("#ncx_et_state_2").unbind("click").click(function(){xa("ncx_et_state_20")});jQuery("#newcrawler-selector").find("#ncx_et_state_3").unbind("click").click(function(){xa("ncx_et_state_30")});jQuery("#newcrawler-selector").find("#ncx_et_state_4").unbind("click").click(function(){xa("ncx_et_state_40")});
jQuery("#newcrawler-selector").find("#ncx_et_state_4").trigger("click");jQuery("#newcrawler-selector").find("#ncx_edit_tpl_tool").m()}var v,pa;String.prototype.replaceAll=function(a,c){return this.replace(new RegExp(a,"g"),c)};var S=1,P=[],T=null,U=null,V=null,W=0,Ha=0,X=null,Ia=null;
function Y(a,c,e,d){var f=document.getElementById("ncx_message-box");f?(f.innerHTML="",f.style.display="none"):(f=document.createElement("div"),f.innerHTML='<div id="ncx_message-box" style="border-radius: 2px;padding: 5px 15px; font-size: 12px; font-color: #333; font-weight: bold; position: fixed!important; top: 50px; left: 50%; z-index: 2147483500; display: none;"></div>',document.body.appendChild(f.firstChild),f=document.getElementById("ncx_message-box"));"hide"==a?(f.innerHTML="",f.style.display=
"none"):("show"==a?(f.innerHTML=c,f.style.display="block",f.style.marginLeft=-(f.clientWidth/2)+"px"):"fade"==a&&(f.innerHTML=c,f.style.display="block",f.style.marginLeft=-(f.clientWidth/2)+"px",setTimeout(function(){Y("hide")},e)),jQuery(document).find("#ncx_message-box").removeClass("message_red"),jQuery(document).find("#ncx_message-box").removeClass("message_green"),jQuery(document).find("#ncx_message-box").removeClass("message_yellow"),"red"==d?jQuery(document).find("#ncx_message-box").addClass("message_red"):
"green"==d?jQuery(document).find("#ncx_message-box").addClass("message_green"):jQuery(document).find("#ncx_message-box").addClass("message_yellow"))}
function Ja(){jQuery("#newcrawler").contents().find("body").append('<div id="ncx_cover-container"><div id="ncx_curlCover" class="ncx_curlCover"  style="z-index : 1999999999; filter:Alpha(Opacity=100); -moz-opacity: 1; opacity: 1;  pointer-events:none; text-align: left; background : transparent;top:0;left:0;position:absolute;overflow:hidden;"></div></div>');jQuery("#newcrawler").contents().find("body").css({cursor:"pointer"});document.title="New Crawler\u2122 "+jQuery("#newcrawler").contents().find("title").text();
T=Ka("webCrawlerId");U=Ka("siteId");V=Ka("rulesVerId");var a=jQuery("#newcrawler").contents().height(),c=jQuery("#newcrawler").contents().width();600>c&&(c=980);jQuery("#newcrawler").contents().find("#ncx_curlCover").css({width:c,height:a+8})}
function La(){jQuery("#newcrawler").contents().find("*").unbind();jQuery("#newcrawler").contents().find("a").unbind("click").click(function(){return!1});jQuery("#newcrawler").contents().find("body").find("*").each(function(){jQuery(this).off()});jQuery("#newcrawler").contents().find("body").find("*").each(function(){this.onclick=function(){return!1};this.onmouseleave=function(){return!1};this.onmousedown=function(){return!1};this.onmouseover=function(){return!1}});jQuery("#newcrawler").contents().find("body").find("*").not("iframe").contents().filter(function(){var a=
3==this.nodeType,c=!1;1<jQuery(this).parent().contents().length&&(c=!0);return a&&c}).wrap("<ncx-text></ncx-text>");jQuery("#newcrawler").contents().find("body").find("*").bind("mouseover",function(a){a=a||window.event;var c=a.target||a.srcElement,e=jQuery(c).get(0).tagName.toLowerCase();if("img"!=e&&"a"!=e&&(c=jQuery(c).html(),c=c.replace(/\s+/g,""),null==c||""==c))return!1;t&&clearTimeout(t);da(a)&&(jQuery("#newcrawler").contents().find("#ncx_cover-container .ncx_highlightTool.mouseover").remove(),
t=setTimeout(function(){t=null;var c=ba;if(!v&&0!=q){var a=(new Date).getTime();G(c);var a=oa(a),e=H.join("");jQuery("#newcrawler-csspath").text(e);for(var e=e.replaceAll(":nth-of-type\\(\\*\\)",""),e=jQuery("#newcrawler").contents().find(e),g=e.length,k=(new Date).getTime(),l="",m=0;m<g;m++){var p=e[m];if(!Q(c,p)){var r=k,x=p,y=0,p="1px dashed rgb(151, 75, 75)",C="rgb(147, 247, 250)";w+=1;var y=jQuery(x).offset(),K=jQuery(x).outerWidth(),x=jQuery(x).outerHeight(),D=jQuery("#newcrawler").contents().width();
K>D&&(K=D-8);C||(C="#facd93");D="2px double "+C;p||(p="1px dashed #facd93");C=y.left;y=y.top;D="<div style='left:"+C+"px; top:"+y+"px; width:"+K+"px; height:"+x+"px;z-index : 2999999999;position : absolute;border:"+D+";pointer-events:none;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;' id='ncx_traceHighlight_all_"+w+"' class='ncx_highlightTool mouseover seq"+r+" zoomIndex-1' index='-1'></div>";D+="<div style='left:"+(C+1)+"px; top:"+(y+1)+"px; width:"+(K-2)+"px; height:"+
(x-2)+"px;z-index : 2999999999;position : absolute;border:"+p+";pointer-events:none;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;' id='ncx_traceHighlight_all_"+w+"' class='ncx_highlightTool mouseover seq"+r+" zoomIndex-1' index='-1'></div>";l+=D}}jQuery("#newcrawler").contents().find("#ncx_cover-container").append(l);oa(a)}},80));return!1});$(document).keydown(function(a){if(17==a.keyCode||91==a.keyCode)return console.log("Ctrl Pressed 1!"),!1;if(32==a.keyCode)return console.log("Space Pressed 1!"),
v||(n=!n,ma()),!1;if(13==a.keyCode||39==a.keyCode)return console.log("Enter Pressed 1!"),v||jQuery("#ncx_toolbar .ncx-datatypes .ncx-new-datatype").click(),!1;if(27==a.keyCode)return console.log("ESC Pressed 1!"),Na(),!1});$(document.getElementById("newcrawler").contentWindow.document).keydown(function(a){if(17==a.keyCode||91==a.keyCode)return console.log("Ctrl Pressed 2!"),!1;if(32==a.keyCode)return console.log("Space Pressed 2!"),v||(n=!n,ma()),!1;if(13==a.keyCode||39==a.keyCode)return console.log("Enter Pressed 2!"),
v||jQuery("#ncx_toolbar .ncx-datatypes .ncx-new-datatype").click(),!1;if(27==a.keyCode)return console.log("ESC Pressed 2!"),Na(),!1});jQuery("#newcrawler").contents().find("*").each(function(){jQuery(this).keydown(function(a){if(17==a.keyCode||91==a.keyCode)return console.log("Ctrl Pressed 3!"),!1;if(32==a.keyCode)return console.log("Space Pressed 3!"),v||(n=!n,ma()),!1;if(13==a.keyCode||39==a.keyCode)return console.log("Enter Pressed 3!"),v||jQuery("#ncx_toolbar .ncx-datatypes .ncx-new-datatype").click(),
!1;if(27==a.keyCode)return console.log("ESC Pressed 3!"),Na(),!1})});jQuery("#newcrawler").contents().find("body").find("*").each(function(){jQuery(this).unbind("click").click(function(a){a=a||window.event;if(!v&&0!=q)if(jQuery("#ncx-selector-attr optgroup[label=Attr]").empty(),jQuery("#ncx-selector-attr option[value='innerHTML']").prop("selected",!0),0==jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.active").length&&jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-data-dot.ncx-yellow").eq(0).click(),
a=a.target||a.srcElement,jQuery(a).hasClass("ncx-cursor-delete")){a=jQuery(a).attr("ncx-index");jQuery("#newcrawler").contents().find("body").contents().find('.ncx-cursor-delete[ncx-index="'+a+'"]').removeAttr("ncx-index").removeClass("ncx-cursor-delete").addClass("ncx-cursor-add");jQuery("#newcrawler").contents().find("#ncx_cover-container .ncx_highlightTool[index='"+a+"']").remove();var c=[],e=F,d;for(d in e)a=parseInt(a),a!=e[d].index&&c.push(e[d]);F=c;d=R(c);jQuery("#ncx_toolbar .ncx-datatypes .active .ncx-count").text(d)}else la(),
B=0,pa=(new Date).getTime(),jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.active.finished.edit").hasClass("zero")||(jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.active.finished.edit .ncx-count").text(0),jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.active.finished.edit").addClass("zero")),1==aa&&(d=ba,jQuery("#ncx_toolbar .ncx-datatypes .active").hasClass("ncx-cron")&&(jQuery("#ncx_toolbar .ncx-datatypes .ncx-cron").removeClass("active"),jQuery("#ncx_toolbar .ncx-cron-config").hide(),jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-data-dot.ncx-yellow").eq(0).addClass("active")),
jQuery("#ncx_toolbar .ncx-datatypes .active").hasClass("ncx-setting")&&(jQuery("#ncx_toolbar .ncx-datatypes .ncx-setting").removeClass("active"),jQuery("#ncx_toolbar .ncx-setting-config").hide(),jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-data-dot.ncx-yellow").eq(0).addClass("active")),O()||(jQuery("#ncx_toolbar .ncx-setting-config").hide(),jQuery("#ncx_toolbar .ncx-cron-config").hide(),jQuery("#ncx_toolbar .ncx-datatypes .ncx-cron").removeClass("active"),jQuery("#ncx_toolbar .ncx-datatypes .ncx-setting").removeClass("active")),
E=d,G(d),d=E,null!=H&&0!=H.length&&(I++,F.push({index:I,b:H,j:J}),a=!1,1<P.length&&(a=!0),jQuery("#newcrawler").contents().find("#ncx_curlCover .ncx_highlightTool").remove(),jQuery("#newcrawler").contents().find("#ncx_cover-container .ncx_highlightTool.mouseover").remove(),L(d,1,a),M(d),d=E,sa=[],ta(d),jQuery("#newcrawler-csspath").removeData("child"),jQuery("#newcrawler-csspath").data("child",sa)));return!1})})}
function Oa(){var a=decodeURIComponent(newcrawler_fetch_url);jQuery("#ncx_toolbar #url").text(decodeURIComponent(a));jQuery("#ncx_toolbar #url").parent().attr("href",a).attr("title",a);jQuery("#ncx_toolbar .ncx-save").unbind("click").click(function(){Pa(function(){jQuery("#ncx_toolbar .ncx-cron-config").hide();jQuery("#ncx_toolbar .ncx-setting-config").hide()})});jQuery("#ncx_toolbar .ncx-test").click(function(){jQuery("#ncx_toolview").hide(100);jQuery("#ncx_toolbar .ncx-help-info").hide(100);jQuery("#ncx_tooltest .ncx-content-top-details").hide(100);
jQuery("#ncx_toolbar .ncx-test .view-pop").toggle(600);jQuery("#ncx_tooltest").toggle(600,function(){if(jQuery("#ncx_tooltest").is(":visible")){var c=jQuery("#ncx_toolbar #url").parent().attr("href");Qa(c);jQuery(window).trigger("resize")}})});jQuery("#ncx_tooltest .ncx-details").click(function(){jQuery("#ncx_tooltest .ncx-content-top-details").toggle(100)});jQuery("#ncx_tooltest .ncx-next").click(function(){var c=jQuery("#ncx_tooltest .ncx-details-content .nextUrl").attr("href");null!=c&&""!=c&&
Qa(c)});jQuery("#ncx_toolbar .ncx-view").click(function(){jQuery("#ncx_tooltest").hide(100);jQuery("#ncx_toolbar .ncx-help-info").hide(100);null==T||void 0==T||isNaN(T)||(Ra.v.webCrawlerId=T,Ra.v.siteId=U,Sa());jQuery("#ncx_toolview .ncx-content-top-export").hide(100);jQuery("#ncx_toolbar .ncx-view .view-pop").toggle(600);jQuery("#ncx_toolview").toggle(600,function(){jQuery("#ncx_toolview").is(":visible")?(document.body.parentNode.style.overflow="hidden",jQuery("#ncx_toolview #ncx-crawlDataLog").show(),
Ia.init(function(){jQuery(window).trigger("resize")}),20==jQuery("#ncx_toolview > .ncx-content-top").find("#ncx-pagination-size").val()&&Ta(),jQuery(window).trigger("resize")):(document.body.parentNode.style.overflow="auto",jQuery("#ncx_toolview #ncx-crawlDataLog").hide(),Ia.destory())})});jQuery("#ncx_toolbar .ncx-js .isJavaScript").unbind("click").click(function(){Pa(function(){top.window.location.href=X})});jQuery("#ncx_toolbar .ncx-style .isStyle").unbind("click").click(function(){var c=jQuery("#ncx_toolbar .ncx-style input[type=checkbox][name='ncx-isStyle']").is(":checked");
jQuery("#newcrawler").contents().find("link").each(function(){if(c){var a=$(this).attr("ncx-href");$(this).attr("href",a);$(this).removeAttr("ncx-href")}else a=$(this).attr("href"),$(this).removeAttr("href"),null!=a&&""!=a&&$(this).attr("ncx-href",a)});jQuery("#newcrawler").contents().find("body").contents().find("*").each(function(){if(c){var a=$(this).attr("ncx-style");$(this).prop("style",a);$(this).removeAttr("ncx-style")}else a=$(this).attr("style"),$(this).removeAttr("style"),null!=a&&""!=a&&
$(this).attr("ncx-style",a)})});jQuery("#ncx_toolview .ncx-refresh").click(function(){Ta()});jQuery("#ncx_toolview .ncx-export").click(function(){jQuery("#ncx_toolview .ncx-export-window").is(":visible")?jQuery("#ncx_toolview .ncx-export-window").hide(100):jQuery("#ncx_toolview .ncx-content-top-export").toggle(100)});jQuery("#ncx_toolview .ncx-export-plotly").click(function(){var c,a={};c=[];for(var d=document.getElementById("ncx_data_list"),f=d.rows[0],h=f.cells.length,g=0;g<h;g+=1){var k=f.cells[g];
c.push(k.innerHTML)}f=d.rows.length;for(h=1;h<f;h+=1)for(var g=d.rows[h],l=g.cells.length,m=0;m<l;m+=1){var k=g.cells[m],p=c[m],k=k.innerHTML;if(null==a[p]||void 0==a[p])a[p]={data:[]};a[p].data.push(k)}c={cols:a};a=jQuery('<div id="hiddenform" style="display:none;"><form action="https://plot.ly/datagrid" method="post" target="_blank" accept-charset="utf-8"><input type="text" name="data" /></form></div>').appendTo("body");c=JSON.stringify(c);a.find("input").val(c);a.find("form").submit();a.remove()});
jQuery("#ncx_toolview .ncx-export-coding").click(function(){if(null!=U&&""!=U){var a=newcrawler_app_url+"api/data/export?siteId="+U+"&pageNum="+(W+1)+"&type=json";jQuery("#ncx_toolview .ncx-export-coding").attr("href",a)}});jQuery("#ncx_toolview .ncx-export-window .close").click(function(){jQuery("#ncx_toolview .ncx-content-top").show();jQuery("#ncx_toolview .ncx-content-bottom").show();jQuery("#ncx_toolview .ncx-export-window").hide(400)});jQuery("#ncx_toolview .ncx-export-rss.ncx-export-icon").click(function(){jQuery("#ncx_toolview .ncx-content-top-export").hide();
jQuery("#ncx_toolview .ncx-content-top").hide();jQuery("#ncx_toolview .ncx-content-bottom").hide();jQuery("#ncx_toolview .ncx-export-window-rss").toggle(600,function(){if(jQuery("#ncx_toolview .ncx-export-window-rss").is(":visible")&&(jQuery("#ncx_toolview .ncx-export-window-rss .title").text(),null!=U&&""!=U)){Z.crawlDataExportService.query(function(a,c){if(c){var f="System errors.";c.c&&(f=c.c);Y("fade",f,3E3,"red")}else a&&(f=eval(a),Ua(f))},T,U,"rss");var a=newcrawler_app_url+"api/data/export?siteId="+
U+"&pageNum="+(W+1)+"&type=rss";jQuery("#ncx_toolview .ncx-export-window-rss .ncx-btn-rss").attr("href",a)}})});jQuery("#ncx_toolview .ncx-export-wordpress.ncx-export-icon").click(function(){jQuery("#ncx_toolview .ncx-content-top-export").hide();jQuery("#ncx_toolview .ncx-content-top").hide();jQuery("#ncx_toolview .ncx-content-bottom").hide();jQuery("#ncx_toolview .ncx-export-window-wordpress").toggle(600,function(){if(jQuery("#ncx_toolview .ncx-export-window-wordpress").is(":visible")){var a=jQuery("#ncx_toolview .ncx-export-window-wordpress .title").text();
null!=U&&""!=U&&Z.dataDeployService.queryByXpath(function(a,c){if(c){var f="System errors.";c.c&&(f=c.c);Y("fade",f,3E3,"red")}else a&&(f=eval("("+a+")"),Va(f))},T,U,a)}})});jQuery("#ncx_toolview .ncx-export-db.ncx-export-icon").click(function(){jQuery("#ncx_toolview .ncx-content-top-export").hide();jQuery("#ncx_toolview .ncx-content-top").hide();jQuery("#ncx_toolview .ncx-content-bottom").hide();jQuery("#ncx_toolview .ncx-export-window-db").toggle(600,function(){if(jQuery("#ncx_toolview .ncx-export-window-db").is(":visible")){var a=
jQuery("#ncx_toolview .ncx-export-window-db .title").text();null!=U&&""!=U&&Z.dataDeployService.queryByXpath(function(a,c){if(c){var f="System errors.";c.c&&(f=c.c);Y("fade",f,3E3,"red")}else a&&(f=eval("("+a+")"),Wa(f))},T,U,a)}})});jQuery("#ncx_toolview .ncx-run").click(function(){var a=jQuery("#ncx_toolbar #ncx-cron-id").val();Z.scheduleService.execute(function(a,c){if(c){var f="System errors.";c.c&&(f=c.c);Y("fade",f,3E3,"red")}else a&&(Y("fade","Task running...",3E3),setTimeout(function(){Ia.init(function(){jQuery(window).trigger("resize")})},
2E3))},T,U,a)});jQuery("#ncx_toolview .ncx-export-csv").click(function(){jQuery("#ncx_data_list").table2excel({name:"NewCrawler Data",u:"xls",filename:"NewCrawlerData"})});jQuery("#ncx_toolbar #ncx-charset-select").change(function(){var a=jQuery("#ncx_toolbar #ncx-charset-select").val();null==a||""==a?(jQuery("#ncx_toolbar #ncx-charset").show(),jQuery("#ncx_toolbar #ncx-charset").val("")):(jQuery("#ncx_toolbar #ncx-charset").hide(),jQuery("#ncx_toolbar #ncx-charset").val(a))});Da()}
function Da(){jQuery("#ncx_toolbar .ncx-toolbar-section #ncx-selector-attr").change(function(){var a=jQuery("#ncx-selector-attr option:selected").parent().prop("label"),c="@ATTR",e="";"Html"==a?c=jQuery("#ncx-selector-attr option:selected").val():e=jQuery("#ncx-selector-attr option:selected").val();jQuery("#newcrawler-selector").find("input[name='ncx_selectType'][value='"+c+"']").prop("checked",!0);jQuery("#newcrawler-selector").find("select[name='ncx_attr']").val(e);"Html"==a?jQuery("#newcrawler-selector").find(".ncx_et_content_inner input[name=ncx_selectType]:checked").click():
jQuery("#newcrawler-selector").find("select[name='ncx_attr']").change();a=!1;0<jQuery("#newcrawler-selector").find("select[name='ncx_attr']").length&&(a=!0);a?(jQuery("#newcrawler-selector").find("input[name='ncx_selectType'][value='@ATTR']").attr("disabled",!1),jQuery("#newcrawler-selector").find("select[name='ncx_attr']").attr("disabled",!1)):(jQuery("#newcrawler-selector").find("input[name='ncx_selectType'][value='@ATTR']").attr("disabled",!0),jQuery("#newcrawler-selector").find("select[name='ncx_attr']").attr("disabled",
!0))});jQuery("#ncx_toolbar .ncx-datatypes .ncx-label .ncx-delete-datatype").unbind("click").click(function(){if(jQuery(this).parent().hasClass("finished")){var a=jQuery(this).parent().attr("title"),c=jQuery(this).parent().attr("lang"),e=[];0==c&&jQuery(this).parents().hasClass("ncx-pagination")?P[0]={}:e.push(P[0]);for(var d=1,f=P.length;d<f;d++)c!=P[d].index&&e.push(P[d]);P=e;jQuery(this).parents().hasClass("ncx-pagination")?jQuery(this).parents().removeClass("finished").removeClass("ncx-blue"):
jQuery(this).parent().remove();void 0==jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.finished")&&jQuery("#ncx_toolbar .save").attr("disabled",!0);Xa(a);a=jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-data-dot.ncx-yellow").eq(0);a.addClass("active");a.click()}N();return!1});jQuery("#ncx_toolbar .ncx-datatypes .ncx-new-datatype").unbind("click").click(function(){Aa();N();jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.finished.active").each(function(){jQuery(this).removeClass("active").removeClass("edit");
jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.ncx-data-dot.ncx-yellow").eq(0).addClass("active");jQuery(this).mouseout()})});jQuery("#ncx_toolbar .ncx-datatypes .ncx-data-dot").unbind("click").click(function(){jQuery(this).hasClass("active")||N();jQuery(this).hasClass("finished")&&jQuery(this).addClass("edit").removeClass("zero");jQuery("#ncx_toolbar .ncx-datatypes .ncx-data-dot").removeClass("active");jQuery(this).addClass("active");jQuery(this).hasClass("ncx-cron")||jQuery(this).hasClass("ncx-setting")?
(jQuery(this).hasClass("ncx-cron")?jQuery("#ncx_toolbar .ncx-cron-config").is(":visible")?(jQuery("#ncx_toolbar .ncx-cron-config").hide(),jQuery(this).removeClass("active")):jQuery("#ncx_toolbar .ncx-cron-config").show():jQuery("#ncx_toolbar .ncx-cron-config").hide(),jQuery(this).hasClass("ncx-setting")?jQuery("#ncx_toolbar .ncx-setting-config").is(":visible")?(jQuery("#ncx_toolbar .ncx-setting-config").hide(),jQuery(this).removeClass("active")):jQuery("#ncx_toolbar .ncx-setting-config").show():jQuery("#ncx_toolbar .ncx-setting-config").hide()):
(jQuery("#ncx_toolbar .ncx-cron-config").hide(),jQuery("#ncx_toolbar .ncx-setting-config").hide());var a=jQuery(this).attr("lang");if(null!=a&&""!=a&&void 0!=a){for(var c in P)if(a==P[c].index){H=P[c].a.slice(0);J=[];F=P[c].f.slice(0);var e=P[c].g;P[c].a.slice(0);e=e.replace(":nth-of-type(*)","");e=jQuery("#newcrawler").contents().find(e);if(0<e.length){var d=e[0];E=d;var e=jQuery(d).offset().top,d=jQuery(d).outerHeight(),f=0;65>jQuery("#newcrawler").contents().outerHeight()-e-d?(f=e+1,0>f&&(f=0)):
f=e+d+3;jQuery("#newcrawler").contents().scrollTop(f-300)}}Ya(a,!0)}});jQuery("#ncx_toolbar .ncx-datatypes .ncx-label").unbind("mouseout").mouseout(function(){jQuery(this).find(".ncx-delete-datatype").hide();jQuery(this).find(".ncx-delete-datatype").removeClass("visible");ca=!1;jQuery(this).hasClass("finished")&&(jQuery(this).hasClass("active")?ca&&N():Na())});jQuery("#ncx_toolbar .ncx-datatypes .ncx-label").unbind("mouseover").mouseover(function(){jQuery(this).find(".ncx-delete-datatype").show();
jQuery(this).find(".ncx-delete-datatype").addClass("visible");jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.active.finished").each(function(){u&&Aa()});if(jQuery(this).hasClass("finished")&&!jQuery(this).hasClass("active")){N();var a=jQuery(this).attr("lang");Ya(a,!1);ca=!0}});jQuery("#ncx_toolbar .ncx-help-info").hover(function(){jQuery(this).css("opacity",1)},function(){jQuery(this).css("opacity",.8)});jQuery("#ncx_toolbar .ncx-setting-dot .ncx-data-dot.ncx-help").unbind("click").click(function(){jQuery("#ncx_toolbar .ncx-help-info").slideToggle(250)})}
function Na(){N();jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.active.finished").each(function(){var a=jQuery(this).attr("lang");if(null!=a&&""!=a&&void 0!=a){for(var c in P)if(a==P[c].index){H=P[c].a.slice(0);J=[];F=P[c].f.slice(0);var e=P[c].g;P[c].a.slice(0);e=e.replace(":nth-of-type(*)","");e=jQuery("#newcrawler").contents().find(e);0<e.length&&(E=e[0])}Ya(a,!0)}})}
function Ya(a,c){var e=(new Date).getTime(),d;for(d in P)if(a==P[d].index){var f=P[d].f,h;for(h in f)for(var g=f[h].b.join("").replace(":nth-of-type(*)",""),g=jQuery("#newcrawler").contents().find(g),k=g.length,l=0;l<k;l++){var m=g[l];if(c){var p=l;$(m).removeAttr("ncx-zoom-index").attr("ncx-zoom-index",p);$(m).removeClass("ncx-cursor-add").addClass("ncx-cursor-delete");$(m).attr("ncx-index",f[h].index);var r=!1;Q(m,E)&&(r=!0);ha(f[h].index,e,m,!1,r,p,0,null,"selected")}else ha(-1,e,m,!1,!1,-1,0,
null,"")}g=P[d].i;"@ATTR"==g&&(g=P[d].h,jQuery("#ncx-selector-attr optgroup[label=Attr]").empty(),jQuery("#ncx-selector-attr optgroup[label=Attr]").append('<option value="'+g+'">'+g+"</option>"));jQuery("#ncx-selector-attr").val(g);c&&(k=R(f),jQuery("#ncx_toolbar .ncx-datatypes .active .ncx-count").text(k))}}function Ka(a){for(var c=window.location.search.substring(1).split("&"),e=0;e<c.length;e++){var d=c[e].split("=");if(d[0]==a)return d[1]}return""}
function Za(a){if(null!=T&&void 0!=T&&!isNaN(T)){jQuery("#ncx_toolbar .save").attr("disabled",!0);P[0]={};var c=null;if(null!=U&&""!=U&&(jQuery("#ncx_toolbar #ncx-headers").val(""),jQuery("#ncx_toolbar #ncx-charset-select").val(""),jQuery("#ncx_toolbar #ncx-charset-select").change(),urlString=newcrawler_server_url+"member/rules/query?webCrawlerId="+T+"&siteId="+U+"&rulesVerId="+V,jQuery.ajax({type:"GET",dataType:"json",url:urlString,async:!1,success:function(a){c=a},error:function(a,c,e){console.log(e);
jQuery("#ncx_toolbar .ncx-toolbar-section.msg").html("<div><span style='color:red;'>System errors.</span></div>");setTimeout(function(){jQuery("#ncx_toolbar .ncx-toolbar-section.msg").html("")},3E3)}}),null!=c&&""!=c)){var e=c.cronId,d=c.cronDate,f=c.cronTime,h=c.pluginId,g=c.isJs,k=c.charset,l=c.headers;V=c.rulesVerId;jQuery("#ncx_toolbar .ncx-js input[type=checkbox][name='ncx-isJs']").prop("checked",g);jQuery("#ncx_toolbar .ncx-js #ncx-pluginId").val(h);jQuery("#ncx_toolbar #ncx-cron-id").val(e);
jQuery("#ncx_toolbar #ncx-cron-date").val(d);jQuery("#ncx_toolbar #ncx-cron-time").val(f);jQuery("#ncx_toolbar #ncx-headers").val(l);jQuery("#ncx_toolbar #ncx-charset-select").val(k);jQuery("#ncx_toolbar #ncx-charset-select").change();var c=c.rules,m;for(m in c)isNaN(m)||"csspath"!=c[m].searchMode||(e=c[m].id,d=c[m].name,f=c[m].selectType,h=c[m].selectAttr,g=c[m].labelType,k=Ca(c[m].selectExpress),"2"==g?Ba(e,0,d,k.g,k.a,f,!0,h,k.f):Ba(e,S,d,k.g,k.a,f,!1,h,k.f))}a&&a()}}
function $a(a){jQuery("#ncx_toolview .ncx-export-window").each(function(){if(jQuery(this).is(":visible")){var c=jQuery(this).find(".title").text(),e="";if(jQuery(this).hasClass("ncx-export-window-wordpress")){var d=jQuery(this).find("input[name=__sign]").val(),f=jQuery(this).find("input[name=__url]").val();null!=f&&""!=f&&(f="http://"+f+"/?__ta=post");var h=jQuery(this).find("select[name=post_status]").val(),g=jQuery(this).find("input[name=access_password]").val(),k=jQuery(this).find("input[name=isUploadImage]").is(":checked"),
l="";k&&(l=jQuery(this).find("input[name=isUploadImage]").parent().find("input[name=param]").val(),k="Y");null!=d&&""!=d&&(e="__sign="+d);null!=h&&""!=h&&(""!=e&&(e+="&"),e+="postStatus="+h);null!=g&&""!=g&&(""!=e&&(e+="&"),e+="accessword="+g);jQuery(this).find(".fieldMap input[name=param]").each(function(){var a=this.value,c=jQuery(this).parent().parent().find("select.allFileds").val();null!=c&&""!=c&&(""!=e&&(e+="&"),e+=a+"="+c)});a.deployUrl=f;a.isUploadImage=k;a.imageLabels=l}else if(jQuery(this).hasClass("ncx-export-window-db")){var d=
jQuery(this).find("select[name=dbType]").val(),f=jQuery(this).find("input[name=dbHost]").val(),h=jQuery(this).find("input[name=dbPort]").val(),g=jQuery(this).find("input[name=dbName]").val(),k=jQuery(this).find("input[name=dbUser]").val(),l=jQuery(this).find("input[name=dbPassword]").val(),m=jQuery(this).find("select[name=dbCharset]").val();jQuery(this).find(".fieldMap > div:not(.temp)").find("input[name=param]").each(function(){var a=this.value,c=jQuery(this).parent().find("input[name=labelName]").val();
null!=c&&""!=c&&(""!=e&&(e+="&"),e+=a+"="+c)});a.dbType=d;a.dbHost=f;a.dbPort=h;a.dbName=g;a.dbUser=k;a.dbPassword=l;a.dbCharset=m}else if(jQuery(this).hasClass("ncx-export-window-rss")){var p={};jQuery(this).find(".fieldMap input[name=param]").each(function(){var a=this.value,c=jQuery(this).parent().parent().find("select.allFileds").val();if(void 0==c||null==c)c="";p[a]=c});d=$.toJSON(p);a.export2RSS=d}a.deployParams=e;a.deployName=c}});return a}
function Ua(a){var c="",e;for(e in a)if(!isNaN(e)){var d=a[e].name,c=a[e].value,d=jQuery("#ncx_toolview .ncx-export-window-rss").find("input[name='param'][value='"+d+"']");jQuery(d).parent().parent().find("select.allFileds").val(c)}}
function Va(a){var c=a.deployUrl,e=a.deployParams;"Y"==a.isUploadImage&&jQuery("#ncx_toolview .ncx-export-window-wordpress").find("input[name=isUploadImage]").attr("checked",!0);0==c.indexOf("http://")&&(c=c.substring(7));-1!=c.indexOf("/?__ta=post")&&(c=c.substring(0,c.indexOf("/?__ta=post")));jQuery("#ncx_toolview .ncx-export-window-wordpress").find("input[name=__url]").val(c);if(null!=e&&""!=e)for(a=e.split("&"),c=0,e=a.length;c<e;c++){var d=a[c].split("="),f=d[0],d=d[1];"__sign"==f?jQuery("#ncx_toolview .ncx-export-window-wordpress").find("input[name='__sign']").val(d):
"postStatus"==f?jQuery("#ncx_toolview .ncx-export-window-wordpress").find("select[name='post_status']").val(d):"accessword"==f?jQuery("#ncx_toolview .ncx-export-window-wordpress").find("input[name='access_password']").val(d):(f=jQuery("#ncx_toolview .ncx-export-window-wordpress").find("input[name='param'][value='"+f+"']"),jQuery(f).parent().parent().find("select.allFileds").val(d))}}
function Wa(a){var c=a.deployParams,e=a.dbHost,d=a.dbPort,f=a.dbName,h=a.dbUser,g=a.dbPassword,k=a.dbCharset;a=a.dbTable;jQuery("#ncx_toolview .ncx-export-window-db").find("input[name='dbHost']").val(e);jQuery("#ncx_toolview .ncx-export-window-db").find("input[name='dbPort']").val(d);jQuery("#ncx_toolview .ncx-export-window-db").find("input[name='dbName']").val(f);jQuery("#ncx_toolview .ncx-export-window-db").find("input[name='dbUser']").val(h);jQuery("#ncx_toolview .ncx-export-window-db").find("input[name='dbPassword']").val(g);
jQuery("#ncx_toolview .ncx-export-window-db").find("select[name='dbCharset']").val(k);jQuery("#ncx_toolview .ncx-export-window-db").find("input[name='dbTable']").val(a);if(null!=c&&""!=c)for(c=c.split("&"),e=0,d=c.length;e<d;e++)h=c[e].split("="),f=h[0],h=h[1],h=jQuery("#ncx_toolview .ncx-export-window-db").find("input[name='labelName'][value='"+h+"']"),jQuery(h).parent().find("input[name='param']").val(f)}
function Pa(a){var c=newcrawler_server_url,e=[],d;for(d in P){var f=P[d].id,h=P[d].index,g=P[d].name,k=P[d].i,l=P[d].h,m="",p=P[d].f;for(d in p){var r=p[d].b.join("");""!=m&&(m+="|");m+=r}if(null!=g&&""!=g&&null!=m&&""!=m){p="1";0==h&&(p="2");var x=h="",y=!1,r="";"Headline"==g&&(h="true",x=[],x.push("enter"),x.push("space_trim"),x=JSON.stringify(x),y=!0);"Link"==g&&(h="true",y=!0,r="true");var C="";"Item"==g&&(C="true");e.push({id:f,name:g,selectExpress:m,selectAttr:l,selectType:k,labelType:p,isCantNull:h,
isAbsolute:r,isTemp:C,excludeHtmlTags:x,unique:y,isFetchUrl:"",fetchUrlAutoExtract:"",absoluteUrlRegex:""})}}jQuery("#ncx_toolbar .ncx-toolbar-section.msg").html("<div class='loading'></div>");d="";null!=e&&0<e.length&&(d=JSON.stringify(e));e=jQuery("#ncx_toolbar #ncx-cron-id").val();f=jQuery("#ncx_toolbar #ncx-cron-date").val();g=jQuery("#ncx_toolbar #ncx-cron-time").val();k="";l=!1;jQuery("#ncx_toolbar .ncx-js input[type=checkbox][name='ncx-isJs']").is(":checked")&&(l=!0,k=jQuery("#ncx_toolbar .ncx-js #ncx-pluginId").val());
m=jQuery("#ncx_toolbar #ncx-charset").val();p=jQuery("#ncx_toolbar #ncx-headers").val();urlString=c+"member/rules/save";c={webCrawlerId:T,siteId:U,rulesVerId:V,rulesJson:d,url:jQuery("#ncx_toolbar #url").parent().attr("title"),cronId:e,cronDate:f,cronTime:g,isJs:l,pluginId:k,charset:m,headers:p};c=$a(c);jQuery.ajax({type:"POST",data:c,url:urlString,async:!0,dataType:"json",error:function(a,c,e){console.log(e);jQuery("#ncx_toolbar .ncx-toolbar-section.msg").html("<div><span style='color:red;'>System errors.</span></div>");
setTimeout(function(){jQuery("#ncx_toolbar .ncx-toolbar-section.msg").html("")},3E3)},success:function(c){var e=c.msg;if("1"==c.code){var d=c.cronId;null!=d&&void 0!=d&&"undefined"!=d&&jQuery("#ncx_toolbar #ncx-cron-id").val(d);var d=c.isNew,g=c.pluginId;null!=g&&void 0!=g&&"undefined"!=g&&jQuery("#ncx_toolbar .ncx-js #ncx-pluginId").val(g);null!=c.siteId&&""!=c.siteId&&(U=c.siteId,"true"==d&&(X=X+"&siteId="+U));null!=c.rulesVerId&&""!=c.rulesVerId&&(V=c.rulesVerId,"true"==d&&(X=X+"&rulesVerId="+
V));if(newcrawler_refresh&&null!=newcrawler_refresh&&void 0!=newcrawler_refresh&&"undefined"!=newcrawler_refresh)try{newcrawler_refresh()}catch(f){console.log(f.description||f)}e="<span style='color:green;'>"+e+"</span>";a&&a();"true"==d&&(top.window.location.href=X)}else e="<span style='color:red;'>"+e+"</span>";jQuery("#ncx_toolbar .ncx-toolbar-section.msg").html("<div>"+e+"</div>");setTimeout(function(){jQuery("#ncx_toolbar .ncx-toolbar-section.msg").html("")},3E3)}})}
function Qa(a){jQuery("#ncx_tooltest > .ncx-content-top").find(".loading").show();jQuery("#ncx_tooltest > .ncx-content-top > .ncx-content-top-data table").empty();for(var c="",e=P.length,d=1;d<e;d++)var f=P[d].index,h=P[d].name,c=c+"<th>",c=c+h,c=c+"</th>";""!=c&&jQuery("<tr><th>index</th>"+c+"</tr>").appendTo(jQuery("#ncx_tooltest > .ncx-content-top > .ncx-content-top-data table"));Z.crawlRulesService.test(function(a,c){if(c){var d="System errors.";c.c&&(d=c.c);Y("fade",d,3E3,"red")}else if(d=eval("("+
a+")"),null==d||null==d.list||1>d.list.length){var h;jQuery("<tr><td  style='border: none;'>Not Found Data.</td>").appendTo(jQuery("#ncx_tooltest > .ncx-content-top > .ncx-content-top-data table"))}else{jQuery("#ncx_tooltest .ncx-details-content .spider").text(null==d.s?"":d.s);jQuery("#ncx_tooltest .ncx-details-content .cookie").text(null==d.l?"":d.l);h=null==d.o?"":d.o;jQuery("#ncx_tooltest .ncx-details-content .nextUrl").text(h);jQuery("#ncx_tooltest .ncx-details-content .nextUrl").attr("href",
h);jQuery("#ncx_tooltest .ncx-details-content .costTotal").text(d.B);jQuery("#ncx_tooltest .ncx-details-content .costFetch").text(d.A);jQuery("#ncx_tooltest .ncx-details-content .costParse").text(d.w);f=0;var d=d.list,p;for(p in d)if(!isNaN(p)){var r=d[p];f++;h="<tr><td>"+f+"</td>";for(var x=1;x<e;x++){var y=P[x].name,C=!1,K;for(K in r)if(y==r[K].name){y=r[K].value;h+="<td>";h+=y;h+="</td>";C=!0;break}C||(h+="<td></td>")}h+="</tr>";h=jQuery(h);h.find("td").click(function(){jQuery(this).attr("title",
jQuery(this).text())});h.appendTo(jQuery("#ncx_tooltest > .ncx-content-top > .ncx-content-top-data table"))}jQuery("#ncx_tooltest .ncx-details-content .total").text(f)}},T,U,V,a,"")}
function Ta(){jQuery("#ncx_toolview > .ncx-content-top").find(".loading").show();jQuery("#ncx_toolview > .ncx-content-top > .ncx-content-top-data table").empty();for(var a="",c=P.length,e=1;e<c;e++)var d=P[e].name,a=a+"<th>",a=a+d,a=a+"</th>";""!=a&&jQuery("<tr><th>index</th>"+a+"<th>status</th><th>createDate</th></tr>").appendTo(jQuery("#ncx_toolview > .ncx-content-top > .ncx-content-top-data table"));W=0;ab();var f=jQuery("#ncx_toolview > .ncx-content-top").find("#ncx-pagination-size").val();Z.crawlDataService.count(function(a){Ha=
a;var c=nc.i18n("res.page.prev"),d=nc.i18n("res.page.next");jQuery("#ncx_toolview > .ncx-content-top").find("#ncx-pagination").pagination(a,{num_edge_entries:2,num_display_entries:5,current_page:0,callback:function(a){W=a;ab()},items_per_page:f,prev_text:c,next_text:d})},T,U)}
function ab(){var a=W,c=P.length,e=jQuery("#ncx_toolview > .ncx-content-top > .ncx-content-top-data table");bb(e);for(var d=jQuery("#ncx_toolview > .ncx-content-top").find("#ncx-pagination-size").val(),e=a*d,d=d/20,f=0,h=0,g=0;g<d;g++){var k=e+20*g;if(k>Ha)break;var l=1;f++;Z.crawlDataService.query(function(d){h++;d=eval(d);if(null!=d&&0<d.length){W=a;for(var e in d)if(!isNaN(e)){for(var g=eval(d[e].data),f="<tr><td>"+l+"</td>",k=d[e].createDate,m=1==d[e].status?'<span class="label-info bg-green">'+
nc.i18n("res.published")+"</span>":"",D=1;D<c;D++){var ua=P[D].name,Ma=!1,va;for(va in g)if(ua==g[va].name){ua=g[va].value;f+="<td>";f+=ua;f+="</td>";Ma=!0;break}Ma||(f+="<td></td>")}f+="<td>"+m+"</td><td>"+k+"</td></tr>";g=jQuery(f);g.find("td").click(function(){jQuery(this).attr("title",jQuery(this).text())});g.appendTo(jQuery("#ncx_toolview > .ncx-content-top > .ncx-content-top-data table"));l++}}else{var f;jQuery("<tr><td  style='border: none;'>Not Found Data.</td>").appendTo(jQuery("#ncx_toolview > .ncx-content-top > .ncx-content-top-data table"))}},
T,{javaClass:"com.soso.web.jsonrpc.bo.CrawlDataBo",siteId:U,startIndex:k,size:20,searchStarttime:null,searchEndtime:null})}var m=setInterval(function(){f===h&&(jQuery("#ncx_toolview > .ncx-content-top").find(".loading").hide(),clearInterval(m))},3E3)}function bb(a){a=a.get(0);for(var c=a.rows.length-1;0<c;c--)a.deleteRow(c)}
function cb(){La();Ja();X=top.window.location.href;jQuery("iframe[name=newcrawler]").height(jQuery(window).height()-46);jQuery(window).resize(function(){jQuery("iframe[name=newcrawler]").height(jQuery(window).height()-46)});jQuery(window).css("overflow","hidden");try{Oa();var a=document.getElementById("newcrawler").contentWindow.getNewCrawlerUserAgent(),c=document.getElementById("newcrawler").contentWindow.getNewCrawlerCharset();jQuery("#ncx_toolbar #ncx-headers").val(a);jQuery("#ncx_toolbar #ncx-charset-select").val(c);
jQuery("#ncx_toolbar #ncx-charset-select").change();Za(function(){jQuery(document).on("mousemove",function(){});jQuery(".ncx_toolbar_cover").remove();db()})}catch(e){}}
function db(){jQuery("#ncx_toolview .ncx-export-content select.allFileds").each(function(){jQuery(this).find("option:gt(0)").remove()});jQuery("#ncx_toolview .ncx-export-window-db .ncx-export-content .fieldMap > div:not(.temp)").remove();for(var a in P)if(0!=P[a].index){var c=P[a].name,e=P[a].g;null!=c&&""!=c&&null!=e&&""!=e&&(jQuery("#ncx_toolview .ncx-export-window-wordpress .ncx-export-content select.allFileds").append("<option value='${"+c+"}'>"+c+"</option>"),jQuery("#ncx_toolview .ncx-export-window-rss .ncx-export-content select.allFileds").append("<option value='"+
c+"'>"+c+"</option>"),e=jQuery("#ncx_toolview .ncx-export-window-db .ncx-export-content .fieldMap .temp").clone(),e.removeClass("temp"),e.show(),e.find(".labelName").text(c),e.find("input[name=labelName]").val("${"+c+"}"),e.find("input[name=param]").val(c),jQuery("#ncx_toolview .ncx-export-window-db .ncx-export-content .fieldMap").append(e))}}
function Xa(a){jQuery("#ncx_toolview .ncx-export-window-wordpress .ncx-export-content select.allFileds").each(function(){var c=jQuery(this);c.find("option[value='${"+a+"}']").is(":checked")&&c.val("");c.find("option[value='${"+a+"}']").remove()});jQuery("#ncx_toolview .ncx-export-window-db .ncx-export-content .fieldMap input[name=param][value="+a+"]").parent().remove();jQuery("#ncx_toolview .ncx-export-window-rss .ncx-export-content select.allFileds").each(function(){var c=jQuery(this);c.find("option[value='"+
a+"']").is(":checked")&&c.val("");c.find("option[value='"+a+"']").remove()})}
function eb(){Y("fade","Completed.",3E3,"green");cb();var a=document.createElement("style"),c=jQuery("#newcrawler").contents().find("head").get(0);a.type="text/css";a.styleSheet?a.styleSheet.cssText=".ncx_larger{float:left;height:15px; width:15px;background:url(//cdn.newcrawler.com/static/xpath/et_tool.png?v1.2) no-repeat -32px -431px;}.ncx_larger.ncx_on{background:url(//cdn.newcrawler.com/static/xpath/et_tool.png?v1.2) no-repeat -17px -431px}.ncx_smaller{float:left;margin-left:5px;display:inline-block;height:15px; width:15px;background:url(//cdn.newcrawler.com/static/xpath/et_tool.png?v1.2) no-repeat -48px -431px}.ncx_smaller.ncx_on{background:url(//cdn.newcrawler.com/static/xpath/et_tool.png?v1.2) no-repeat 0px -431px}.ncx-cursor-not-allowed {cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAeCAYAAAA/xX6fAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzMxNTk5N0RFREJGMTFFNUI1RDNERkQxQUFDMDRERjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzMxNTk5N0VFREJGMTFFNUI1RDNERkQxQUFDMDRERjMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MzE1OTk3QkVEQkYxMUU1QjVEM0RGRDFBQUMwNERGMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3MzE1OTk3Q0VEQkYxMUU1QjVEM0RGRDFBQUMwNERGMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqJDRkIAAAL2SURBVHjavJZPaNJhGMdf/8w8bEJTUEg0sEMTNrzoLHYYUQe3IHbYwDp0Egq6OmKVVods7qDt1CEYBF1slzrIDuLBwxoiO0iDajCGIjEZSCApoj49z4vvcPn7rXTb74Hvz9/v8X2fz+993+d5lAHAa6aQIYtfQCkoB1arVdja2lIEyoGVSgUMBoMi0CMg3SsBPQZUAtoDFNBcLkfQZ4oASSaTCfL5PEEfKwI8L+iJwPOAElDb7dDpdKzRaDCfz8c8Hg/3ZTIZNj4+HqHBKpXq9MkkVuhwOGB5eZnfj42NQbvd/oWQF6jnXbp0JltKsGKxCLVa7bfRaOTQdDpNW3nnzJOmXq9zGNpDVGxxcZED5+bmyLdxHs27hXrQcVzZ29tr41mBRqOhF2mjz3FCDMoB2oV3qDTqC+oj6hHKLAe895dzY3Z2lq8yGo3SKldkYLdQ3+UyHFVFPUVpjgEl3uJ2NpuFZDIJrVaric9vJWD3US0aPjExAaurq7C5uck7VCKRgIWFBVCr1QL8SUDlgGpUFvUKZZWAXUM1aNsjkQhlM0gZvYDFYhHQFVngP0yFytHccDjMAxNwbW0NZmZmYGpqCpaWluDw8JB/t729DXq9nihN1NVBgNdFzWKD4EH9fn/P+dlsNpH5EAwGhf/NIMCXNDkUCvFg6+vrsm1xfn6ej9nZ2RG+Hz2t7T/sMl0wUfiD1Wpl+/v70nuvUvFPp9MpWqZd1FE/phM9l2xkZITZ7XbZwZjlDOuZS2Rqv8ASXXZ3d/kDlg/DmpUc6Ha7GZYIK5VKDFsmuX4O0p0oOni9Xn4+GAhcLlfP+eEOiL8qEI/Hhf/9IElzAVWkAFTgZNT8A4EAjI6OwtDQEExPTx/BDg4OumvxxiBAsrsUYHh4GFKpFMhZuVyGyclJAfs8aOELi9N8rVbLV0ctrdlsclChUIBYLAZms1nAvqEunhZIOf8EVRPnRr2z01W6lUSZTmzefZoNFUV9RdU7DZ0y+QPqptTP0x8BBgCoKq8fjjt0ZAAAAABJRU5ErkJggg==) 0 0, auto;}.ncx-cursor-add {cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAeCAYAAAA/xX6fAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzMxNTk5NzlFREJGMTFFNUI1RDNERkQxQUFDMDRERjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzMxNTk5N0FFREJGMTFFNUI1RDNERkQxQUFDMDRERjMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MzE1OTk3N0VEQkYxMUU1QjVEM0RGRDFBQUMwNERGMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3MzE1OTk3OEVEQkYxMUU1QjVEM0RGRDFBQUMwNERGMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlbAVHoAAALUSURBVHjavJVPaBNBFIffbtMUKwY0OVQMtjH1EDSnQrHoxYO0ibZS8eTBHnpp/Ytii0IVe1ELgrSCeBD1ojnoQdqDRUrUoBBIvAQEFWsCaa3G2KCmaUzZrL+ZJmWz3dYkTXfg25l5M7tf5u3shGRZvkE6Fbj4RdZLyoXJZFL2+/26SLkwkUjIJpNJF+mSkLX1kBYI9ZAuE+alwWCQSS/rImRYLBY5FAox6UVdhOslXVW4HlImNCgDRqORMpkMuVwuam5u5jGfz0dOp/M6mywIwto3U36FdrtdHhoa4m2HwyFns9lfkAyCqwq2VSSlTBaNRuX5+fmU2WzmUq/Xy1J5uOKbJp1OcxlKL7jV39/PhZ2dnSw2XmmhgIuE9km8n7toN4bD4U9YsSCKIkUiEdlqte7E2KTWA/aONLE9cBC0gx1gA5gCr8GTt2fefVcLRdTHmYwFUH+22Wwv3G43SZJEHo9HQLhnBdkBVO/BM9AN9oM94Ci4DSYxZwBUKe8TNJZ9KBAIjMXjcWptbZWw0nv4IT0qWReq+0AsIpOj4AhWK/GUagjZQ/xgAtyBbEola8mlrLqE13cTwj5N4WoFMjY/AJqWPbFjhBq22OjC6FmKzH5RD7N9svvN6eAHscSN1qIlY8Wy0UJ1m7ZSdZVBa5i9x14q8h0oS9savgoXuxhKvKlB2Rlsu0a76pxLK+SpbR+hhewCb5942k2xZCw/vb4coVHZMdcuprEglhPzPIoGdVpLFk4rO1fGL1GNoSa3aYapfrON+sbYpgnzWCxZ8N3PlCP0gvP5zmzq59LAgrSYxvjcD5r5/VXr3pflbJqJ3NFVTnmoedIU8S0eQ/VIHa811pIoVFEqM0dZOaseHsOH35E/S0squPExqmF1PJVJUfLvHy3ZR9CV74hlpuccGADp/8x7DvbhRyZWPLxLTO92VKeAGzTmztdv4BV4ANGE+u/pnwADAJY2rJMWYmDjAAAAAElFTkSuQmCC) 0 0, auto;}.ncx-cursor-delete {cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAeCAYAAAA/xX6fAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODg4NEM2NzNFREIzMTFFNTkwNjNEMDE4MEY4NDJENjUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODg4NEM2NzRFREIzMTFFNTkwNjNEMDE4MEY4NDJENjUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4ODg0QzY3MUVEQjMxMUU1OTA2M0QwMTgwRjg0MkQ2NSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4ODg0QzY3MkVEQjMxMUU1OTA2M0QwMTgwRjg0MkQ2NSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pp/6/tcAAAJvSURBVHjavJVBiBJRGMffjNtEF6F0T0qbuQVCHiKQFrp0CNOKsPbcHrrs0l42yDq4UKcSoogiOkR1ykMF0R6KkKk8CXoSgooWDTd2Y10skDRhfP2/QWV2Uts3686D37w3z/fmN+973zwZ5/wGs6nApV+4XVJdWKvVeDabtUWqC6vVKnc6nbZIu0Jq2yFdJ7RD+o+wI83n8ySdt0VIuN1uXigUSHrFFuFWSQcKt0JKwhFjh6IorNlsskgkwkKhkN6XyWRYMBi8ToMlSdp8MnVW6Pf7eTKZ1NuBQIC3Wq1fkFwDVw14hhJSkpXLZV6v13+7XC5dqqoqhfL00JOm0WjoMpQZcDsej+vCWCxGfW+GLZRw0dC+gP15gPZ4sVj8ghVLsiyzUqnEvV7vPvy22OsBS2NnKQdOgFNgL9hB3eADeOb99uKHWSijPkcy6kD91efzvY1Go0zTNJZKpSR0T/eRHUP1EbwE58FRcBhMgrtgEWMSwGGcJ/VY9slcLrdQqVRYOBzWsNKHeJFpk2wK1SMgbyCSr8AZrFbTQ9pDSA/JgjS4D9mSSTbRDtk2ge27CeGlnsJBBTIanwOHBPOF8uSAp/T8kyw4ccKCjArt4wzb4B4Yy/FNfBURuowITtpjvNl1b44pB/f3Hbw6mWDa8lrndsyKUDHeyKM7mcMzOiCQDnNYhYXf153Ds7cY2670z5SVNePtshWhCi52H7j6U2TuOytJk24fXVbKE2EhPt4/qC5bkC1grmplhSR9iuqOwJTPYKqbaBbDMwcSoPGfca/BEbxkte/hLXjU7UY1C6JgvH2+roD34DFEafPf018BBgCuzILSC+9sGAAAAABJRU5ErkJggg==) 0 0, auto;}":a.appendChild(document.createTextNode(".ncx_larger{float:left;height:15px; width:15px;background:url(//cdn.newcrawler.com/static/xpath/et_tool.png?v1.2) no-repeat -32px -431px;}.ncx_larger.ncx_on{background:url(//cdn.newcrawler.com/static/xpath/et_tool.png?v1.2) no-repeat -17px -431px}.ncx_smaller{float:left;margin-left:5px;display:inline-block;height:15px; width:15px;background:url(//cdn.newcrawler.com/static/xpath/et_tool.png?v1.2) no-repeat -48px -431px}.ncx_smaller.ncx_on{background:url(//cdn.newcrawler.com/static/xpath/et_tool.png?v1.2) no-repeat 0px -431px}.ncx-cursor-not-allowed {cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAeCAYAAAA/xX6fAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzMxNTk5N0RFREJGMTFFNUI1RDNERkQxQUFDMDRERjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzMxNTk5N0VFREJGMTFFNUI1RDNERkQxQUFDMDRERjMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MzE1OTk3QkVEQkYxMUU1QjVEM0RGRDFBQUMwNERGMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3MzE1OTk3Q0VEQkYxMUU1QjVEM0RGRDFBQUMwNERGMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqJDRkIAAAL2SURBVHjavJZPaNJhGMdf/8w8bEJTUEg0sEMTNrzoLHYYUQe3IHbYwDp0Egq6OmKVVods7qDt1CEYBF1slzrIDuLBwxoiO0iDajCGIjEZSCApoj49z4vvcPn7rXTb74Hvz9/v8X2fz+993+d5lAHAa6aQIYtfQCkoB1arVdja2lIEyoGVSgUMBoMi0CMg3SsBPQZUAtoDFNBcLkfQZ4oASSaTCfL5PEEfKwI8L+iJwPOAElDb7dDpdKzRaDCfz8c8Hg/3ZTIZNj4+HqHBKpXq9MkkVuhwOGB5eZnfj42NQbvd/oWQF6jnXbp0JltKsGKxCLVa7bfRaOTQdDpNW3nnzJOmXq9zGNpDVGxxcZED5+bmyLdxHs27hXrQcVzZ29tr41mBRqOhF2mjz3FCDMoB2oV3qDTqC+oj6hHKLAe895dzY3Z2lq8yGo3SKldkYLdQ3+UyHFVFPUVpjgEl3uJ2NpuFZDIJrVaric9vJWD3US0aPjExAaurq7C5uck7VCKRgIWFBVCr1QL8SUDlgGpUFvUKZZWAXUM1aNsjkQhlM0gZvYDFYhHQFVngP0yFytHccDjMAxNwbW0NZmZmYGpqCpaWluDw8JB/t729DXq9nihN1NVBgNdFzWKD4EH9fn/P+dlsNpH5EAwGhf/NIMCXNDkUCvFg6+vrsm1xfn6ej9nZ2RG+Hz2t7T/sMl0wUfiD1Wpl+/v70nuvUvFPp9MpWqZd1FE/phM9l2xkZITZ7XbZwZjlDOuZS2Rqv8ASXXZ3d/kDlg/DmpUc6Ha7GZYIK5VKDFsmuX4O0p0oOni9Xn4+GAhcLlfP+eEOiL8qEI/Hhf/9IElzAVWkAFTgZNT8A4EAjI6OwtDQEExPTx/BDg4OumvxxiBAsrsUYHh4GFKpFMhZuVyGyclJAfs8aOELi9N8rVbLV0ctrdlsclChUIBYLAZms1nAvqEunhZIOf8EVRPnRr2z01W6lUSZTmzefZoNFUV9RdU7DZ0y+QPqptTP0x8BBgCoKq8fjjt0ZAAAAABJRU5ErkJggg==) 0 0, auto;}.ncx-cursor-add {cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAeCAYAAAA/xX6fAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzMxNTk5NzlFREJGMTFFNUI1RDNERkQxQUFDMDRERjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzMxNTk5N0FFREJGMTFFNUI1RDNERkQxQUFDMDRERjMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MzE1OTk3N0VEQkYxMUU1QjVEM0RGRDFBQUMwNERGMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3MzE1OTk3OEVEQkYxMUU1QjVEM0RGRDFBQUMwNERGMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlbAVHoAAALUSURBVHjavJVPaBNBFIffbtMUKwY0OVQMtjH1EDSnQrHoxYO0ibZS8eTBHnpp/Ytii0IVe1ELgrSCeBD1ojnoQdqDRUrUoBBIvAQEFWsCaa3G2KCmaUzZrL+ZJmWz3dYkTXfg25l5M7tf5u3shGRZvkE6Fbj4RdZLyoXJZFL2+/26SLkwkUjIJpNJF+mSkLX1kBYI9ZAuE+alwWCQSS/rImRYLBY5FAox6UVdhOslXVW4HlImNCgDRqORMpkMuVwuam5u5jGfz0dOp/M6mywIwto3U36FdrtdHhoa4m2HwyFns9lfkAyCqwq2VSSlTBaNRuX5+fmU2WzmUq/Xy1J5uOKbJp1OcxlKL7jV39/PhZ2dnSw2XmmhgIuE9km8n7toN4bD4U9YsSCKIkUiEdlqte7E2KTWA/aONLE9cBC0gx1gA5gCr8GTt2fefVcLRdTHmYwFUH+22Wwv3G43SZJEHo9HQLhnBdkBVO/BM9AN9oM94Ci4DSYxZwBUKe8TNJZ9KBAIjMXjcWptbZWw0nv4IT0qWReq+0AsIpOj4AhWK/GUagjZQ/xgAtyBbEola8mlrLqE13cTwj5N4WoFMjY/AJqWPbFjhBq22OjC6FmKzH5RD7N9svvN6eAHscSN1qIlY8Wy0UJ1m7ZSdZVBa5i9x14q8h0oS9savgoXuxhKvKlB2Rlsu0a76pxLK+SpbR+hhewCb5942k2xZCw/vb4coVHZMdcuprEglhPzPIoGdVpLFk4rO1fGL1GNoSa3aYapfrON+sbYpgnzWCxZ8N3PlCP0gvP5zmzq59LAgrSYxvjcD5r5/VXr3pflbJqJ3NFVTnmoedIU8S0eQ/VIHa811pIoVFEqM0dZOaseHsOH35E/S0squPExqmF1PJVJUfLvHy3ZR9CV74hlpuccGADp/8x7DvbhRyZWPLxLTO92VKeAGzTmztdv4BV4ANGE+u/pnwADAJY2rJMWYmDjAAAAAElFTkSuQmCC) 0 0, auto;}.ncx-cursor-delete {cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAeCAYAAAA/xX6fAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODg4NEM2NzNFREIzMTFFNTkwNjNEMDE4MEY4NDJENjUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODg4NEM2NzRFREIzMTFFNTkwNjNEMDE4MEY4NDJENjUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4ODg0QzY3MUVEQjMxMUU1OTA2M0QwMTgwRjg0MkQ2NSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4ODg0QzY3MkVEQjMxMUU1OTA2M0QwMTgwRjg0MkQ2NSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pp/6/tcAAAJvSURBVHjavJVBiBJRGMffjNtEF6F0T0qbuQVCHiKQFrp0CNOKsPbcHrrs0l42yDq4UKcSoogiOkR1ykMF0R6KkKk8CXoSgooWDTd2Y10skDRhfP2/QWV2Uts3686D37w3z/fmN+973zwZ5/wGs6nApV+4XVJdWKvVeDabtUWqC6vVKnc6nbZIu0Jq2yFdJ7RD+o+wI83n8ySdt0VIuN1uXigUSHrFFuFWSQcKt0JKwhFjh6IorNlsskgkwkKhkN6XyWRYMBi8ToMlSdp8MnVW6Pf7eTKZ1NuBQIC3Wq1fkFwDVw14hhJSkpXLZV6v13+7XC5dqqoqhfL00JOm0WjoMpQZcDsej+vCWCxGfW+GLZRw0dC+gP15gPZ4sVj8ghVLsiyzUqnEvV7vPvy22OsBS2NnKQdOgFNgL9hB3eADeOb99uKHWSijPkcy6kD91efzvY1Go0zTNJZKpSR0T/eRHUP1EbwE58FRcBhMgrtgEWMSwGGcJ/VY9slcLrdQqVRYOBzWsNKHeJFpk2wK1SMgbyCSr8AZrFbTQ9pDSA/JgjS4D9mSSTbRDtk2ge27CeGlnsJBBTIanwOHBPOF8uSAp/T8kyw4ccKCjArt4wzb4B4Yy/FNfBURuowITtpjvNl1b44pB/f3Hbw6mWDa8lrndsyKUDHeyKM7mcMzOiCQDnNYhYXf153Ds7cY2670z5SVNePtshWhCi52H7j6U2TuOytJk24fXVbKE2EhPt4/qC5bkC1grmplhSR9iuqOwJTPYKqbaBbDMwcSoPGfca/BEbxkte/hLXjU7UY1C6JgvH2+roD34DFEafPf018BBgCuzILSC+9sGAAAAABJRU5ErkJggg==) 0 0, auto;}"));
c.appendChild(a)}var Z,Ra,Sa;
jQuery(document).ready(function(){jQuery("#ncx_toolbar #ncx-cron-time").clockpicker({placement:"bottom",align:"top",autoclose:!0});jQuery("#ncx_toolbar #ncx-cron-date").datetimepicker({timepicker:!1,validateOnBlur:!1,closeOnDateSelect:!0,format:"Y-m-d"});JSONRpcClient.profile_async=!0;JSONRpcClient.max_req_active=2;JSONRpcClient.requestId=1;Z=jsonrpc=new JSONRpcClient("../JSON-RPC/MEMBER");Ra=logsViewConsole;logsViewConsole.fn.init();Sa=function(){jQuery(".logsViewConsole").click()};var a=getUrlParameter("webCrawlerId"),
c=getUrlParameter("siteId");Ia=new crawlDataLog({tableId:"ncx-crawlDataLog",listTableId:"ncx-crawlDataLogList",PER_PAGE_ITEMS:5,ITEMS_COUNT:0,cur_page:0,webCrawlerId:a,siteId:c});a=jQuery("#newcrawler")[0];a.attachEvent?a.attachEvent("onload",function(){eb()}):a.onload=function(){eb()};Y("show","Loading...");a.src=newcrawler_url});
(function(a){a.fn.m=function(){var c={handle:".ncx_et_bar"},c=a.extend({handle:"",cursor:"move"},c);(""===c.handle?this:this.find(c.handle)).css("cursor",c.cursor).on("mousedown",function(e){var d=""===c.handle?a(this).addClass("draggable"):a(this).addClass("active-handle").parent().addClass("draggable"),f=d.css("z-index"),h=d.outerHeight(),g=d.outerWidth(),k=d.offset().top+h-e.pageY,l=d.offset().left+g-e.pageX;d.css("z-index",2147483488).parents().on("mousemove",function(c){a(".draggable").offset({top:c.pageY+
k-h,left:c.pageX+l-g}).on("mouseup",function(){a(this).removeClass("draggable").css("z-index",f)})});e.preventDefault()}).on("mouseup",function(){""===c.handle?a(this).removeClass("draggable"):a(this).removeClass("active-handle").parent().removeClass("draggable")}).on("mouseout",function(){""===c.handle?a(this).removeClass("draggable"):a(this).removeClass("active-handle").parent().removeClass("draggable")})}})(jQuery);
